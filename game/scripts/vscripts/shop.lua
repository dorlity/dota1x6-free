_G.All_Quests =
{
	["hero_quests"] =
	{
		["npc_dota_hero_juggernaut"] =
		{
			[1] = 
			{
				["name"] = "Jugg.Quest_1",
				["icon"] = "Blade_Fury",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Jugg.Quest_2",
				["icon"] = "Healing_Ward",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Jugg.Quest_3",
				["icon"] = "Blade_Dance",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Jugg.Quest_4",
				["icon"] = "Omnislash",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[5] = 
			{
				["name"] = "Jugg.Quest_5",
				["icon"] = "Blade_Fury",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 25000,
			},
			[6] = 
			{
				["name"] = "Jugg.Quest_6",
				["icon"] = "Blade_Dance",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 150,
			},
			[7] = 
			{
				["name"] = "Jugg.Quest_7",
				["icon"] = "Healing_Ward",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 30000,
			},
			[8] = 
			{
				["name"] = "Jugg.Quest_8",
				["icon"] = "Omnislash",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 25000,
			},
		},





		["npc_dota_hero_phantom_assassin"] =
		{
			[1] = 
			{
				["name"] = "Phantom.Quest_1",
				["icon"] = "Stifling_Dagger",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Phantom.Quest_2",
				["icon"] = "Phantom_Strike",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Phantom.Quest_3",
				["icon"] = "Blur",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Phantom.Quest_4",
				["icon"] = "Coup_de_Grace",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[5] = 
			{
				["name"] = "Phantom.Quest_5",
				["icon"] = "Stifling_Dagger",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 30,
				['number'] = 1000,
			},
			[6] = 
			{
				["name"] = "Phantom.Quest_6",
				["icon"] = "Phantom_Strike",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 7000,
			},
			[7] = 
			{
				["name"] = "Phantom.Quest_7",
				["icon"] = "Blur",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 50,
			},
			[8] = 
			{
				["name"] = "Phantom.Quest_8",
				["icon"] = "Coup_de_Grace",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 15,
				['number'] = 2,
			},
		},










		["npc_dota_hero_huskar"] =
		{
			[1] = 
			{
				["name"] = "Huskar.Quest_1",
				["icon"] = "Inner_Fire",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Huskar.Quest_2",
				["icon"] = "Burning_Spears",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Huskar.Quest_3",
				["icon"] = "Berserkers_Blood",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Huskar.Quest_4",
				["icon"] = "Life_Break",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[5] = 
			{
				["name"] = "Huskar.Quest_5",
				["icon"] = "Inner_Fire",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 100,
			},
			[6] = 
			{
				["name"] = "Huskar.Quest_6",
				["icon"] = "Burning_Spears",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 20000,
			},
			[7] = 
			{
				["name"] = "Huskar.Quest_7",
				["icon"] = "Berserkers_Blood",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 150,
				['number'] = 30,
			},
			[8] = 
			{
				["name"] = "Huskar.Quest_8",
				["icon"] = "Life_Break",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 20,
				['number'] = 50,
			},
		},







		["npc_dota_hero_nevermore"] =
		{
			[1] = 
			{
				["name"] = "Never.Quest_1",
				["icon"] = "Shadowraze",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Never.Quest_2",
				["icon"] = "Necromastery",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Never.Quest_3",
				["icon"] = "Dark_Lord",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Never.Quest_4",
				["icon"] = "Requiem",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[5] = 
			{
				["name"] = "Never.Quest_5",
				["icon"] = "Shadowraze",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 15,
				["number"] = 3,
			},
			[6] = 
			{
				["name"] = "Never.Quest_6",
				["icon"] = "Necromastery",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 5,
			},
			[7] = 
			{
				["name"] = "Never.Quest_7",
				["icon"] = "Dark_Lord",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 15000,
			},
			[8] = 
			{
				["name"] = "Never.Quest_8",
				["icon"] = "Requiem",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 15,
				["number"] = 12,
			},
		},





		["npc_dota_hero_legion_commander"] =
		{
			[1] = 
			{
				["name"] = "Legion.Quest_1",
				["icon"] = "Odds",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Legion.Quest_2",
				["icon"] = "Press",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Legion.Quest_3",
				["icon"] = "Moment",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Legion.Quest_4",
				["icon"] = "Duel",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[5] = 
			{
				["name"] = "Legion.Quest_5",
				["icon"] = "Odds",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 20000,
			},
			[6] = 
			{
				["name"] = "Legion.Quest_6",
				["icon"] = "Press",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 20,
			},
			[7] = 
			{
				["name"] = "Legion.Quest_7",
				["icon"] = "Moment",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 15000,
			},
			[8] = 
			{
				["name"] = "Legion.Quest_8",
				["icon"] = "Duel",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 200,
			},
		},





		["npc_dota_hero_queenofpain"] =
		{
			[1] = 
			{
				["name"] = "Queen.Quest_1",
				["icon"] = "Dagger",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Queen.Quest_2",
				["icon"] = "Blink",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Queen.Quest_3",
				["icon"] = "Scream",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Queen.Quest_4",
				["icon"] = "Sonic",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[5] = 
			{
				["name"] = "Queen.Quest_5",
				["icon"] = "Dagger",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 200,
			},
			[6] = 
			{
				["name"] = "Queen.Quest_6",
				["icon"] = "Blink",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 50,
				["number"] = 300,
			},
			[7] = 
			{
				["name"] = "Queen.Quest_7",
				["icon"] = "Scream",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 25000,
			},
			[8] = 
			{
				["name"] = "Queen.Quest_8",
				["icon"] = "Sonic",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 8,
				["number"] = 3,
			},
		},




		["npc_dota_hero_terrorblade"] =
		{
			[1] = 
			{
				["name"] = "Terr.Quest_1",
				["icon"] = "Reflection",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Terr.Quest_2",
				["icon"] = "Illusion",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Terr.Quest_3",
				["icon"] = "Meta",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Terr.Quest_4",
				["icon"] = "Sunder",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[5] = 
			{
				["name"] = "Terr.Quest_5",
				["icon"] = "Reflection",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 20000,
			},
			[6] = 
			{
				["name"] = "Terr.Quest_6",
				["icon"] = "Illusion",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 150,
			},
			[7] = 
			{
				["name"] = "Terr.Quest_7",
				["icon"] = "Meta",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 150,
			},
			[8] = 
			{
				["name"] = "Terr.Quest_8",
				["icon"] = "Sunder",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 20000,
			},
		},






		["npc_dota_hero_bristleback"] =
		{
			[1] = 
			{
				["name"] = "Brist.Quest_1",
				["icon"] = "Goo",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Brist.Quest_2",
				["icon"] = "Spray",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Brist.Quest_3",
				["icon"] = "Back",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Brist.Quest_4",
				["icon"] = "Warpath",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[5] = 
			{
				["name"] = "Brist.Quest_5",
				["icon"] = "Goo",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 80,
				["number"] = 4,
			},
			[6] = 
			{
				["name"] = "Brist.Quest_6",
				["icon"] = "Spray",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 25000,
			},
			[7] = 
			{
				["name"] = "Brist.Quest_7",
				["icon"] = "Back",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 50000,
			},
			[8] = 
			{
				["name"] = "Brist.Quest_8",
				["icon"] = "Warpath",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 60,
			},
		},







		["npc_dota_hero_puck"] =
		{
			[1] = 
			{
				["name"] = "Puck.Quest_1",
				["icon"] = "Orb",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Puck.Quest_2",
				["icon"] = "Rift",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Puck.Quest_3",
				["icon"] = "Shift",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Puck.Quest_4",
				["icon"] = "Coil",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},


			[5] = 
			{
				["name"] = "Puck.Quest_5",
				["icon"] = "Orb",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 25,
				["number"] = 300,
			},
			[6] = 
			{
				["name"] = "Puck.Quest_6",
				["icon"] = "Rift",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 80,
			},
			[7] = 
			{
				["name"] = "Puck.Quest_7",
				["icon"] = "Shift",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 15000,
			},
			[8] = 
			{
				["name"] = "Puck.Quest_8",
				["icon"] = "Coil",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 20,
			},
		},






		["npc_dota_hero_void_spirit"] =
		{
			[1] = 
			{
				["name"] = "Void.Quest_1",
				["icon"] = "Remnant",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Void.Quest_2",
				["icon"] = "Astral",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Void.Quest_3",
				["icon"] = "Pulse",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Void.Quest_4",
				["icon"] = "Step",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},

			[5] = 
			{
				["name"] = "Void.Quest_5",
				["icon"] = "Remnant",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 100,
			},
			[6] = 
			{
				["name"] = "Void.Quest_6",
				["icon"] = "Astral",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 25,
			},
			[7] = 
			{
				["name"] = "Void.Quest_7",
				["icon"] = "Pulse",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 15000,
			},
			[8] = 
			{
				["name"] = "Void.Quest_8",
				["icon"] = "Step",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 20000,
			},
		},




		["npc_dota_hero_ember_spirit"] =
		{
			[1] = 
			{
				["name"] = "Ember.Quest_1",
				["icon"] = "Chain",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Ember.Quest_2",
				["icon"] = "Fist",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Ember.Quest_3",
				["icon"] = "Guard",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Ember.Quest_4",
				["icon"] = "FireRemnant",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},


			[5] = 
			{
				["name"] = "Ember.Quest_5",
				["icon"] = "Chain",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 100,
			},
			[6] = 
			{
				["name"] = "Ember.Quest_6",
				["icon"] = "Fist",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 30000,
			},
			[7] = 
			{
				["name"] = "Ember.Quest_7",
				["icon"] = "Guard",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 16000,
			},
			[8] = 
			{
				["name"] = "Ember.Quest_8",
				["icon"] = "FireRemnant",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 30000,
			},
		},




		["npc_dota_hero_pudge"] =
		{
			[1] = 
			{
				["name"] = "Pudge.Quest_1",
				["icon"] = "Hook",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Pudge.Quest_2",
				["icon"] = "Rot",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Pudge.Quest_3",
				["icon"] = "Flesh",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Pudge.Quest_4",
				["icon"] = "Dismember",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},


			[5] = 
			{
				["name"] = "Pudge.Quest_5",
				["icon"] = "Hook",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 10,
				["number"] = 700,
			},
			[6] = 
			{
				["name"] = "Pudge.Quest_6",
				["icon"] = "Rot",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 30000,
			},
			[7] = 
			{
				["name"] = "Pudge.Quest_7",
				["icon"] = "Flesh",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 20,
			},
			[8] = 
			{
				["name"] = "Pudge.Quest_8",
				["icon"] = "Dismember",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 15000,
			},
		},





		["npc_dota_hero_hoodwink"] =
		{
			[1] = 
			{
				["name"] = "Hoodwink.Quest_1",
				["icon"] = "Acorn",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Hoodwink.Quest_2",
				["icon"] = "Bush",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Hoodwink.Quest_3",
				["icon"] = "Scurry",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Hoodwink.Quest_4",
				["icon"] = "Sharp",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},


			[5] = 
			{
				["name"] = "Hoodwink.Quest_5",
				["icon"] = "Acorn",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 25000,
			},
			[6] = 
			{
				["name"] = "Hoodwink.Quest_6",
				["icon"] = "Bush",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 80,
			},
			[7] = 
			{
				["name"] = "Hoodwink.Quest_7",
				["icon"] = "Scurry",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 150,
			},
			[8] = 
			{
				["name"] = "Hoodwink.Quest_8",
				["icon"] = "Sharp",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 15,
			},
		},





		["npc_dota_hero_skeleton_king"] =
		{
			[1] = 
			{
				["name"] = "Wraith.Quest_1",
				["icon"] = "Blast",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Wraith.Quest_2",
				["icon"] = "Vampiric",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Wraith.Quest_3",
				["icon"] = "Strike",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Wraith.Quest_4",
				["icon"] = "Reincarnation",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},

			
			[5] = 
			{
				["name"] = "Wraith.Quest_5",
				["icon"] = "Blast",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 100,
			},
			[6] = 
			{
				["name"] = "Wraith.Quest_6",
				["icon"] = "Vampiric",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 200,
			},
			[7] = 
			{
				["name"] = "Wraith.Quest_7",
				["icon"] = "Strike",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 30000,
			},
			[8] = 
			{
				["name"] = "Wraith.Quest_8",
				["icon"] = "Reincarnation",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 10,
			},
		},





		["npc_dota_hero_lina"] =
		{
			[1] = 
			{
				["name"] = "Lina.Quest_1",
				["icon"] = "Dragon",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Lina.Quest_2",
				["icon"] = "Array",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Lina.Quest_3",
				["icon"] = "Soul",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Lina.Quest_4",
				["icon"] = "Laguna",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},


			[5] = 
			{
				["name"] = "Lina.Quest_5",
				["icon"] = "Dragon",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 20,
				["number"] = 800,
			},
			[6] = 
			{
				["name"] = "Lina.Quest_6",
				["icon"] = "Array",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 40,
			},
			[7] = 
			{
				["name"] = "Lina.Quest_7",
				["icon"] = "Soul",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 150,
				["number"] = 3,
			},
			[8] = 
			{
				["name"] = "Lina.Quest_8",
				["icon"] = "Laguna",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 25000,
			},
		},







		["npc_dota_hero_troll_warlord"] =
		{
			[1] = 
			{
				["name"] = "Troll.Quest_1",
				["icon"] = "Rage",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Troll.Quest_2",
				["icon"] = "Axes",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Troll.Quest_3",
				["icon"] = "Fervor",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Troll.Quest_4",
				["icon"] = "Trance",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			
			[5] = 
			{
				["name"] = "Troll.Quest_5",
				["icon"] = "Rage",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 40,
			},
			[6] = 
			{
				["name"] = "Troll.Quest_6",
				["icon"] = "Axes",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 50,
				["number"] = 2,
			},
			[7] = 
			{
				["name"] = "Troll.Quest_7",
				["icon"] = "Fervor",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 150,
			},
			[8] = 
			{
				["name"] = "Troll.Quest_8",
				["icon"] = "Trance",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 30000,
			},
		},




		["npc_dota_hero_axe"] =
		{
			[1] = 
			{
				["name"] = "Axe.Quest_1",
				["icon"] = "Call",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Axe.Quest_2",
				["icon"] = "Hunger",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Axe.Quest_3",
				["icon"] = "Helix",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Axe.Quest_4",
				["icon"] = "Culling",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},


			[5] = 
			{
				["name"] = "Axe.Quest_5",
				["icon"] = "Call",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 50000,
			},
			[6] = 
			{
				["name"] = "Axe.Quest_6",
				["icon"] = "Hunger",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 100,
			},
			[7] = 
			{
				["name"] = "Axe.Quest_7",
				["icon"] = "Helix",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 20000,
			},
			[8] = 
			{
				["name"] = "Axe.Quest_8",
				["icon"] = "Culling",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 8,
			},
		},





		["npc_dota_hero_alchemist"] =
		{
			[1] = 
			{
				["name"] = "Alch.Quest_1",
				["icon"] = "Acid",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Alch.Quest_2",
				["icon"] = "Unstable",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Alch.Quest_3",
				["icon"] = "Greed",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Alch.Quest_4",
				["icon"] = "Chemical",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},

			[5] = 
			{
				["name"] = "Alch.Quest_5",
				["icon"] = "Acid",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 80,
			},
			[6] = 
			{
				["name"] = "Alch.Quest_6",
				["icon"] = "Unstable",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 15,
				["number"] = 4.5,
			},
			[7] = 
			{
				["name"] = "Alch.Quest_7",
				["icon"] = "Greed",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 7000,
			},
			[8] = 
			{
				["name"] = "Alch.Quest_8",
				["icon"] = "Chemical",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 150,
			},
		},




		["npc_dota_hero_ogre_magi"] =
		{
			[1] = 
			{
				["name"] = "Ogre.Quest_1",
				["icon"] = "Fireblast",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Ogre.Quest_2",
				["icon"] = "Ignite",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Ogre.Quest_3",
				["icon"] = "Bloodlust",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Ogre.Quest_4",
				["icon"] = "Multicast",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},

			
			[5] = 
			{
				["name"] = "Ogre.Quest_5",
				["icon"] = "Fireblast",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 100,
			},
			[6] = 
			{
				["name"] = "Ogre.Quest_6",
				["icon"] = "Ignite",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 20000,
			},
			[7] = 
			{
				["name"] = "Ogre.Quest_7",
				["icon"] = "Bloodlust",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 30,
				["number"] = 5,
			},
			[8] = 
			{
				["name"] = "Ogre.Quest_8",
				["icon"] = "Multicast",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 160,
			},
		},





		["npc_dota_hero_antimage"] =
		{
			[1] = 
			{
				["name"] = "Anti.Quest_1",
				["icon"] = "manabreak",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Anti.Quest_2",
				["icon"] = "antimage_blink",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Anti.Quest_3",
				["icon"] = "counterspell",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Anti.Quest_4",
				["icon"] = "manavoid",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},

			[5] = 
			{
				["name"] = "Anti.Quest_5",
				["icon"] = "manabreak",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 10000,
			},
			[6] = 
			{
				["name"] = "Anti.Quest_6",
				["icon"] = "antimage_blink",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 30000,
				["number"] = 3,
			},
			[7] = 
			{
				["name"] = "Anti.Quest_7",
				["icon"] = "counterspell",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 12,
			},
			[8] = 
			{
				["name"] = "Anti.Quest_8",
				["icon"] = "manavoid",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 10,
				["number"] = 50,
			},
		},





		["npc_dota_hero_primal_beast"] =
		{
			[1] = 
			{
				["name"] = "Beast.Quest_1",
				["icon"] = "onslaught",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Beast.Quest_2",
				["icon"] = "trample",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Beast.Quest_3",
				["icon"] = "uproar",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Beast.Quest_4",
				["icon"] = "pulverize",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[5] = 
			{
				["name"] = "Beast.Quest_5",
				["icon"] = "onslaught",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 20,
				["number"] = 2,
			},
			[6] = 
			{
				["name"] = "Beast.Quest_6",
				["icon"] = "trample",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 25,
				["number"] = 4,
			},
			[7] = 
			{
				["name"] = "Beast.Quest_7",
				["icon"] = "uproar",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 80,
				["number"] = 5,
			},
			[8] = 
			{
				["name"] = "Beast.Quest_8",
				["icon"] = "pulverize",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 25000,
			},
		},




		["npc_dota_hero_marci"] =
		{
			[1] = 
			{
				["name"] = "Marci.Quest_1",
				["icon"] = "dispose",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Marci.Quest_2",
				["icon"] = "rebound",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Marci.Quest_3",
				["icon"] = "sidekick",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Marci.Quest_4",
				["icon"] = "unleash",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[5] = 
			{
				["name"] = "Marci.Quest_5",
				["icon"] = "dispose",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 100,
			},
			[6] = 
			{
				["name"] = "Marci.Quest_6",
				["icon"] = "rebound",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 25,
			},
			[7] = 
			{
				["name"] = "Marci.Quest_7",
				["icon"] = "sidekick",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 15000,
			},
			[8] = 
			{
				["name"] = "Marci.Quest_8",
				["icon"] = "unleash",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 50,
			},
		},





		["npc_dota_hero_templar_assassin"] =
		{
			[1] = 
			{
				["name"] = "Templar.Quest_1",
				["icon"] = "refraction",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Templar.Quest_2",
				["icon"] = "meld",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Templar.Quest_3",
				["icon"] = "psiblades",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Templar.Quest_4",
				["icon"] = "psionic",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[5] = 
			{
				["name"] = "Templar.Quest_5",
				["icon"] = "refraction",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 30000,
			},
			[6] = 
			{
				["name"] = "Templar.Quest_6",
				["icon"] = "meld",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 20000,
				["number"] = 3,
			},
			[7] = 
			{
				["name"] = "Templar.Quest_7",
				["icon"] = "psiblades",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 50,
			},
			[8] = 
			{
				["name"] = "Templar.Quest_8",
				["icon"] = "psionic",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 15000,
			},
		},







		["npc_dota_hero_bloodseeker"] =
		{
			[1] = 
			{
				["name"] = "Blood.Quest_1",
				["icon"] = "bloodrage",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Blood.Quest_2",
				["icon"] = "bloodrite",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Blood.Quest_3",
				["icon"] = "thirst",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Blood.Quest_4",
				["icon"] = "rupture",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},


			[5] = 
			{
				["name"] = "Blood.Quest_5",
				["icon"] = "bloodrage",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 100,
				["number"] = 50,
			},
			[6] = 
			{
				["name"] = "Blood.Quest_6",
				["icon"] = "bloodrite",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 30,
			},
			[7] = 
			{
				["name"] = "Blood.Quest_7",
				["icon"] = "thirst",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 5,
			},
			[8] = 
			{
				["name"] = "Blood.Quest_8",
				["icon"] = "rupture",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 25000,
			},

		},





		["npc_dota_hero_monkey_king"] =
		{
			[1] = 
			{
				["name"] = "Monkey.Quest_1",
				["icon"] = "boundless",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Monkey.Quest_2",
				["icon"] = "tree",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Monkey.Quest_3",
				["icon"] = "mastery",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Monkey.Quest_4",
				["icon"] = "command",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},

			[5] = 
			{
				["name"] = "Monkey.Quest_5",
				["icon"] = "boundless",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 25000,
			},
			[6] = 
			{
				["name"] = "Monkey.Quest_6",
				["icon"] = "tree",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 40,
			},
			[7] = 
			{
				["name"] = "Monkey.Quest_7",
				["icon"] = "mastery",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 15000,
			},
			[8] = 
			{
				["name"] = "Monkey.Quest_8",
				["icon"] = "command",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 120,
			},
		},





		["npc_dota_hero_mars"] =
		{
			[1] = 
			{
				["name"] = "Mars.Quest_1",
				["icon"] = "spear",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Mars.Quest_2",
				["icon"] = "rebuke",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Mars.Quest_3",
				["icon"] = "bulwark",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Mars.Quest_4",
				["icon"] = "arena",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[5] = 
			{
				["name"] = "Mars.Quest_5",
				["icon"] = "spear",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 25,
			},
			[6] = 
			{
				["name"] = "Mars.Quest_6",
				["icon"] = "rebuke",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 25000,
			},
			[7] = 
			{
				["name"] = "Mars.Quest_7",
				["icon"] = "bulwark",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 25000,
			},
			[8] = 
			{
				["name"] = "Mars.Quest_8",
				["icon"] = "arena",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 8,
			},
		},




		["npc_dota_hero_zuus"] =
		{
			[1] = 
			{
				["name"] = "Zuus.Quest_1",
				["icon"] = "arc",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Zuus.Quest_2",
				["icon"] = "bolt",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Zuus.Quest_3",
				["icon"] = "jump",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Zuus.Quest_4",
				["icon"] = "wrath",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[5] = 
			{
				["name"] = "Zuus.Quest_5",
				["icon"] = "arc",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 50,
				["number"] = 400,
			},
			[6] = 
			{
				["name"] = "Zuus.Quest_6",
				["icon"] = "bolt",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 25000,
			},
			[7] = 
			{
				["name"] = "Zuus.Quest_7",
				["icon"] = "jump",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 80,
				["number"] = 3,
			},
			[8] = 
			{
				["name"] = "Zuus.Quest_8",
				["icon"] = "wrath",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 8,
			},
		},




		["npc_dota_hero_leshrac"] =
		{
			[1] = 
			{
				["name"] = "Leshrac.Quest_1",
				["icon"] = "earth",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Leshrac.Quest_2",
				["icon"] = "edict",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Leshrac.Quest_3",
				["icon"] = "storm",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Leshrac.Quest_4",
				["icon"] = "nova",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},

			[5] = 
			{
				["name"] = "Leshrac.Quest_5",
				["icon"] = "earth",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 40,
			},
			[6] = 
			{
				["name"] = "Leshrac.Quest_6",
				["icon"] = "edict",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 20000,
			},
			[7] = 
			{
				["name"] = "Leshrac.Quest_7",
				["icon"] = "storm",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 25000,
			},
			[8] = 
			{
				["name"] = "Leshrac.Quest_8",
				["icon"] = "nova",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 30000,
			},

		},
		




		["npc_dota_hero_crystal_maiden"] =
		{
			[1] = 
			{
				["name"] = "Maiden.Quest_1",
				["icon"] = "crystal",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Maiden.Quest_2",
				["icon"] = "frostbite",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Maiden.Quest_3",
				["icon"] = "arcane",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Maiden.Quest_4",
				["icon"] = "freezing",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},

			[5] = 
			{
				["name"] = "Maiden.Quest_5",
				["icon"] = "crystal",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 150,
			},
			[6] = 
			{
				["name"] = "Maiden.Quest_6",
				["icon"] = "frostbite",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 30000,
			},
			[7] = 
			{
				["name"] = "Maiden.Quest_7",
				["icon"] = "arcane",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 80,
			},
			[8] = 
			{
				["name"] = "Maiden.Quest_8",
				["icon"] = "freezing",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 25000,
			},
		},





		["npc_dota_hero_snapfire"] =
		{
			[1] = 
			{
				["name"] = "Snapfire.Quest_1",
				["icon"] = "scatter",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Snapfire.Quest_2",
				["icon"] = "cookie",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Snapfire.Quest_3",
				["icon"] = "shredder",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Snapfire.Quest_4",
				["icon"] = "kisses",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[5] = 
			{
				["name"] = "Snapfire.Quest_5",
				["icon"] = "scatter",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 50,
			},
			[6] = 
			{
				["name"] = "Snapfire.Quest_6",
				["icon"] = "cookie",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 30,
			},
			[7] = 
			{
				["name"] = "Snapfire.Quest_7",
				["icon"] = "shredder",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 200,
			},
			[8] = 
			{
				["name"] = "Snapfire.Quest_8",
				["icon"] = "kisses",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 25000,
			},
		},





		["npc_dota_hero_sven"] =
		{
			[1] = 
			{
				["name"] = "Sven.Quest_1",
				["icon"] = "hammer",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Sven.Quest_2",
				["icon"] = "cleave",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Sven.Quest_3",
				["icon"] = "cry",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Sven.Quest_4",
				["icon"] = "god",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[5] = 
			{
				["name"] = "Sven.Quest_5",
				["icon"] = "hammer",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 70,
			},
			[6] = 
			{
				["name"] = "Sven.Quest_6",
				["icon"] = "cleave",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 15000,
			},
			[7] = 
			{
				["name"] = "Sven.Quest_7",
				["icon"] = "cry",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 20000,
				["number"] = 4,
			},
			[8] = 
			{
				["name"] = "Sven.Quest_8",
				["icon"] = "god",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 80,
			},
		},



		["npc_dota_hero_sniper"] =
		{
			[1] = 
			{
				["name"] = "Sniper.Quest_1",
				["icon"] = "shrapnel",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Sniper.Quest_2",
				["icon"] = "headshot",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Sniper.Quest_3",
				["icon"] = "aim",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Sniper.Quest_4",
				["icon"] = "assassinate",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[5] = 
			{
				["name"] = "Sniper.Quest_5",
				["icon"] = "shrapnel",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 80,
			},
			[6] = 
			{
				["name"] = "Sniper.Quest_6",
				["icon"] = "headshot",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 120,
			},
			[7] = 
			{
				["name"] = "Sniper.Quest_7",
				["icon"] = "aim",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 20000,
				["number"] = 700,
			},
			[8] = 
			{
				["name"] = "Sniper.Quest_8",
				["icon"] = "assassinate",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 8,
				["number"] = 5,
			},
		},


		["npc_dota_hero_muerta"] =
		{
			[1] = 
			{
				["name"] = "Muerta.Quest_1",
				["icon"] = "dead",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Muerta.Quest_2",
				["icon"] = "calling",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Muerta.Quest_3",
				["icon"] = "gun",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Muerta.Quest_4",
				["icon"] = "veil",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[5] = 
			{
				["name"] = "Muerta.Quest_5",
				["icon"] = "dead",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 30,
			},
			[6] = 
			{
				["name"] = "Muerta.Quest_6",
				["icon"] = "calling",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 100,
			},
			[7] = 
			{
				["name"] = "Muerta.Quest_7",
				["icon"] = "gun",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 15000,
			},
			[8] = 
			{
				["name"] = "Muerta.Quest_8",
				["icon"] = "veil",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 80,
			},
		},


		["npc_dota_hero_pangolier"] =
		{
			[1] = 
			{
				["name"] = "Pangolier.Quest_1",
				["icon"] = "buckle",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Pangolier.Quest_2",
				["icon"] = "shield",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Pangolier.Quest_3",
				["icon"] = "lucky",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Pangolier.Quest_4",
				["icon"] = "rolling",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[5] = 
			{
				["name"] = "Pangolier.Quest_5",
				["icon"] = "buckle",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 20000,
			},
			[6] = 
			{
				["name"] = "Pangolier.Quest_6",
				["icon"] = "shield",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 12000,
			},
			[7] = 
			{
				["name"] = "Pangolier.Quest_7",
				["icon"] = "lucky",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 60,
			},
			[8] = 
			{
				["name"] = "Pangolier.Quest_8",
				["icon"] = "rolling",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 30,
			},
		},

	

		["npc_dota_hero_arc_warden"] =
		{
			[1] = 
			{
				["name"] = "Arc.Quest_1",
				["icon"] = "flux",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Arc.Quest_2",
				["icon"] = "field",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Arc.Quest_3",
				["icon"] = "spark",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Arc.Quest_4",
				["icon"] = "double",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[5] = 
			{
				["name"] = "Arc.Quest_5",
				["icon"] = "flux",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 100,
			},
			[6] = 
			{
				["name"] = "Arc.Quest_6",
				["icon"] = "field",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 120,
			},
			[7] = 
			{
				["name"] = "Arc.Quest_7",
				["icon"] = "spark",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 80,
			},
			[8] = 
			{
				["name"] = "Arc.Quest_8",
				["icon"] = "double",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 25000,
			},
		},
	
		["npc_dota_hero_invoker"] =
		{
			[1] = 
			{
				["name"] = "Invoker.Quest_1",
				["icon"] = "quas",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Invoker.Quest_2",
				["icon"] = "wex",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Invoker.Quest_3",
				["icon"] = "exort",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Invoker.Quest_4",
				["icon"] = "invoke",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[5] = 
			{
				["name"] = "Invoker.Quest_5",
				["icon"] = "quas",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 150,
			},
			[6] = 
			{
				["name"] = "Invoker.Quest_6",
				["icon"] = "wex",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 150,
			},
			[7] = 
			{
				["name"] = "Invoker.Quest_7",
				["icon"] = "exort",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 30000,
			},
			[8] = 
			{
				["name"] = "Invoker.Quest_8",
				["icon"] = "invoke",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 150,
			},
		},


		["npc_dota_hero_razor"] =
		{
			[1] = 
			{
				["name"] = "Razor.Quest_1",
				["icon"] = "plasma",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Razor.Quest_2",
				["icon"] = "link",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Razor.Quest_3",
				["icon"] = "current",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Razor.Quest_4",
				["icon"] = "eye",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[5] = 
			{
				["name"] = "Razor.Quest_5",
				["icon"] = "plasma",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 80,
			},
			[6] = 
			{
				["name"] = "Razor.Quest_6",
				["icon"] = "link",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 12,
			},
			[7] = 
			{
				["name"] = "Razor.Quest_7",
				["icon"] = "current",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 100,
			},
			[8] = 
			{
				["name"] = "Razor.Quest_8",
				["icon"] = "eye",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 25000,
			},
		},

		["npc_dota_hero_sand_king"] =
		{
			[1] = 
			{
				["name"] = "Sand.Quest_1",
				["icon"] = "burrow",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[2] = 
			{
				["name"] = "Sand.Quest_2",
				["icon"] = "sand",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[3] = 
			{
				["name"] = "Sand.Quest_3",
				["icon"] = "finale",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[4] = 
			{
				["name"] = "Sand.Quest_4",
				["icon"] = "epicenter",
				["reward_shards"] = 20,
				["reward_exp"] = 100,
				["goal"] = 1,
				["legendary"] = 1,
			},
			[5] = 
			{
				["name"] = "Sand.Quest_5",
				["icon"] = "burrow",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 80,
				["number"] = 4,
			},
			[6] = 
			{
				["name"] = "Sand.Quest_6",
				["icon"] = "sand",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 120,
			},
			[7] = 
			{
				["name"] = "Sand.Quest_7",
				["icon"] = "finale",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 70,
			},
			[8] = 
			{
				["name"] = "Sand.Quest_8",
				["icon"] = "epicenter",
				["reward_shards"] = 15,
				["reward_exp"] = 80,
				["goal"] = 25000,
			},
		},
	},



	["general_quests"] =
	{
		[1] =
		{
			["icon"] = "quest_neutrals",
			["reward_shards"] = 15,
			["reward_exp"] = 80,
			["goal"] = 300,
			["name"] = "General.Quest_1",
		},
		[2] =
		{
			["icon"] = "quest_patrols",
			["reward_shards"] = 15,
			["reward_exp"] = 80,
			["goal"] = 25,
			["name"] = "General.Quest_2",
		},
		[3] =
		{
			["icon"] = "quest_wards",
			["reward_shards"] = 15,
			["reward_exp"] = 80,
			["goal"] = 10,
			["name"] = "General.Quest_3",
		},
		[4] =
		{
			["icon"] = "quest_kills",
			["reward_shards"] = 15,
			["reward_exp"] = 80,
			["goal"] = 10,
			["name"] = "General.Quest_4",
		},
		[5] =
		{
			["icon"] = "quest_midas",
			["reward_shards"] = 15,
			["reward_exp"] = 80,
			["goal"] = 3000,
			["name"] = "General.Quest_5",
		},
		[6] =
		{
			["icon"] = "quest_bounty",
			["reward_shards"] = 15,
			["reward_exp"] = 80,
			["goal"] = 30,
			["name"] = "General.Quest_6",
		},
		[7] =
		{
			["icon"] = "quest_common",
			["reward_shards"] = 15,
			["reward_exp"] = 80,
			["goal"] = 5,
			["name"] = "General.Quest_7",
		},
		[8] =
		{
			["icon"] = "quest_blue",
			["reward_shards"] = 15,
			["reward_exp"] = 80,
			["goal"] = 5,
			["name"] = "General.Quest_8",
		},
		[9] =
		{
			["icon"] = "quest_purple",
			["reward_shards"] = 15,
			["reward_exp"] = 80,
			["goal"] = 3,
			["name"] = "General.Quest_9",
		},

		[10] =
		{
			["icon"] = "quest_phys",
			["reward_shards"] = 15,
			["reward_exp"] = 80,
			["goal"] = 30000,
			["name"] = "General.Quest_10",
			['not_for'] = 
			{
				["npc_dota_hero_zuus"] = true,
				["npc_dota_hero_leshrac"] = true,
				["npc_dota_hero_crystal_maiden"] = true,
			},
		},
		[11] =
		{
			["icon"] = "quest_pure",
			["reward_shards"] = 15,
			["reward_exp"] = 80,
			["goal"] = 25000,
			["name"] = "General.Quest_11",
			['only_for'] = 
			{
				["npc_dota_hero_pudge"] = true,
				["npc_dota_hero_bloodseeker"] = true,
				["npc_dota_hero_leshrac"] = true,
				["npc_dota_hero_queenofpain"] = true,
				["npc_dota_hero_axe"] = true,
			},
		},
		[12] =
		{
			["icon"] = "quest_magic",
			["reward_shards"] = 15,
			["reward_exp"] = 80,
			["goal"] = 30000,
			["name"] = "General.Quest_12",
			['not_for'] = 
			{
				["npc_dota_hero_bristleback"] = true,
				["npc_dota_hero_alchemist"] = true,
				["npc_dota_hero_axe"] = true,
				["npc_dota_hero_bloodseeker"] = true,
				["npc_dota_hero_phantom_assassin"] = true,
				["npc_dota_hero_terrorblade"] = true,
				["npc_dota_hero_sven"] = true,
			},
		},
		[13] =
		{
			["icon"] = "quest_bkb",
			["reward_shards"] = 15,
			["reward_exp"] = 80,
			["goal"] = 12000,
			["name"] = "General.Quest_13",
		},
		[14] =
		{
			["icon"] = "quest_tower",
			["reward_shards"] = 15,
			["reward_exp"] = 80,
			["goal"] = 5000,
			["name"] = "General.Quest_14",
		},
		[15] =
		{
			["icon"] = "quest_blink",
			["reward_shards"] = 15,
			["reward_exp"] = 80,
			["goal"] = 12000,
			["name"] = "General.Quest_15",
			["number"] = 3,
		},
		[16] =
		{
			["icon"] = "quest_smoke",
			["reward_shards"] = 15,
			["reward_exp"] = 80,
			["goal"] = 4,
			["name"] = "General.Quest_16",
			["number"] = 15,
		},
		[17] =
		{
			["icon"] = "quest_ancient",
			["reward_shards"] = 15,
			["reward_exp"] = 80,
			["goal"] = 30,
			["name"] = "General.Quest_17",
		},
	}
}

--CustomNetTables:SetTableValue("quest_table", "quests", All_Quests)

function HasDonateItem(id, item_id)
	local player_table = CustomNetTables:GetTableValue("sub_data", tostring(id))
	if player_table then
		if player_table.items_ids then
			for _, item_id_data in pairs(player_table.items_ids) do
				if tostring(item_id_data) == tostring(item_id) then
					return true
				end
			end
		end
	end
	return false
end

shop = class({})

shop.player_items_portrait = {}

function shop:shop_buy_item_player(data)
    if data.PlayerID == nil then return end
    local id = data.PlayerID
    local item_id = tonumber(data.item_id)
    local is_item_bundle = nil

    local cost = 0

    for _,chat_item in pairs(Sound_list.general_ru) do 
    	if chat_item[1] == item_id then 
    		cost = chat_item[3]
    	end
    end

    if cost == 0 then 
	    for _,chat_item in pairs(Sound_list.general_eng) do 
	    	if chat_item[1] == item_id then 
	    		cost = chat_item[3]
	    	end
	    end
    end

    if cost == 0 then 
	    for _,chat_item in pairs(Sound_list.general_other) do 
	    	if chat_item[1] == item_id then 
	    		cost = chat_item[3]
	    	end
	    end
    end

    if cost == 0 then 
    	for _,pet_item in pairs(pets_item_list) do 
    		if (pet_item[1] == item_id) then 
    			cost = pet_item[4]
    		end
    	end
    end


	if cost == 0 then
        if data.hero ~= nil then
            if shop.items_data[tostring(data.hero)] then
                for _, item_info in pairs(shop.items_data[tostring(data.hero)]) do 
                    if (item_info["item_id"] == item_id) then 
                        cost = item_info["price"]

                        if item_info["sale_price"] and item_info["sale_price"] > 0 then 
                        	cost = item_info["sale_price"]
                        end 
 
                        if item_info["OtherItemsBundle"] ~= nil then
                            is_item_bundle = item_info["OtherItemsBundle"]
                        end
                        break
                    end
                end
            end
        end
    end

    if cost == 0 and item_id == -1 then 
    	cost = CustomNetTables:GetTableValue('shop_items', 'votes_cost').cost*data.votes
    end

    if cost == 0 then 
    	return
    end

    local player = PlayerResource:GetPlayer(id)
    local player_table = CustomNetTables:GetTableValue('sub_data', tostring(id))
    local player_items_table = {}

    if player_table then

    	if player_table.points < cost then return end

        if player_table.items_ids then
            for k, v in pairs(player_table.items_ids) do
                table.insert(player_items_table, v)
            end
        end

        player_table.points = player_table.points - cost
        
		if data.item_id == -1 then 
		    player_table.votes_count = player_table.votes_count + data.votes
		    HTTP.BuyItem( data.PlayerID, "vote", cost, data.votes )
		else
		    table.insert(player_items_table, item_id)
		    if is_item_bundle ~= nil then
		        for _, item_bundle in pairs(is_item_bundle) do
		            if item_id ~= item_bundle[1] then
		                table.insert(player_items_table, item_bundle[1])
		            end
		        end
		    end
            if item_id == 23095 then
                table.insert(player_items_table, 23096)
                table.insert(player_items_table, 23098)
                table.insert(player_items_table, 23099)
                table.insert(player_items_table, 23097)
                HTTP.BuyItem( data.PlayerID, 23096, 0 )
                HTTP.BuyItem( data.PlayerID, 23098, 0 )
                HTTP.BuyItem( data.PlayerID, 23099, 0 )
                HTTP.BuyItem( data.PlayerID, 23097, 0 )
            end
            if item_id == 12930 then
                table.insert(player_items_table, 13768)
                table.insert(player_items_table, 13769)
                table.insert(player_items_table, 13770)
                HTTP.BuyItem( data.PlayerID, 13768, 0 )
                HTTP.BuyItem( data.PlayerID, 13769, 0 )
                HTTP.BuyItem( data.PlayerID, 13770, 0 )
            end
            
            if item_id == 13456 then
                table.insert(player_items_table, 13760)
                table.insert(player_items_table, 13743)
                table.insert(player_items_table, 13571)
                table.insert(player_items_table, 13473)
                table.insert(player_items_table, 13569)
                HTTP.BuyItem( data.PlayerID, 13760, 0 )
                HTTP.BuyItem( data.PlayerID, 13743, 0 )
                HTTP.BuyItem( data.PlayerID, 13571, 0 )
                HTTP.BuyItem( data.PlayerID, 13473, 0 )
                HTTP.BuyItem( data.PlayerID, 13569, 0 )
            end
            if item_id == 23697 then
                table.insert(player_items_table, 24100)
                HTTP.BuyItem( data.PlayerID, 24100, 0 )
            end
		    player_table.items_ids = player_items_table
		    HTTP.BuyItem( data.PlayerID, item_id, math.abs( cost ) )
		end

        CustomNetTables:SetTableValue('sub_data', tostring(id), player_table)
    end
end


--      
_G.pets_item_list =
{
	-- ID (     ) ID     ,   /,   
	{1001, 1, "pets_1", 10000, "file://{images}/econ/courier/minipudge/minipudge.png"},
	{1002, 2, "pets_2", 10000, "file://{images}/econ/courier/donkey_trio/mesh/donkey_trio.png"},
	{1003, 3, "pets_3", 2500, "file://{images}/econ/loading_screens/duskie.png"},
	{1004, 4, "pets_4", 2500, "file://{images}/econ/items/courier/snaggletooth_red_panda/snaggletooth_red_panda.png"},
	{1005, 5, "pets_5", 6000, "file://{images}/econ/items/courier/beaverknight/beaverknight.png"},
	{1006, 6, "pets_6", 6000, "file://{images}/econ/items/courier/shagbark/shagbark.png"},
	{1007, 7, "pets_7", 15000, "file://{images}/econ/courier/baby_rosh/babyroshan.png"},
	{1008, 8, "pets_8", 6000, "file://{images}/econ/items/courier/mighty_chicken/mighty_chicken.png"},
	{1009, 9, "pets_9", 500, "file://{images}/econ/courier/donkey_radiant_default.png"},
	{1010, 10, "pets_10", 2500, "file://{images}/econ/items/courier/wabbit/wabbit.png"},
	{1011, 11, "pets_11", 15000, "file://{images}/econ/items/courier/shibe_dog_cat/shibe_dog_cat.png"},
	{1012, 12, "pets_12", 6000, "file://{images}/econ/items/courier/butch_pudge_dog/butch_pudge_dog.png"},
	{1013, 13, "pets_13", 1000, "file://{images}/econ/props_gameplay/donkey1.png"},
	{1014, 14, "pets_14", 2500, "file://{images}/econ/items/courier/captain_bamboo/captain_bamboo.png"},
	{1015, 15, "pets_15", 2500, "file://{images}/econ/items/courier/el_gato_beyond_the_summit/el_gato_beyond_the_summit_flying.png"},
	{1016, 16, "pets_16", 2500, "file://{images}/econ/items/courier/itsy/itsy.png"},
	{1017, 17, "pets_17", 6000, "file://{images}/custom_game/shop/pet_wolf.png"},
	{1018, 18, "pets_18", 10000, "file://{images}/econ/pets/icewrack_wolf_alt/cm_persona_pet.png"},
	{1019, 19, "pets_19", 1000, "file://{images}/econ/pets/almond_the_frondillo/almond_the_frondillo.png"},
	{1020, 20, "pets_20", 500, "file://{images}/custom_game/shop/pet_courier_dire.png"},
	{1021, 21, "pets_21", 10000, "file://{images}/econ/items/courier/krobeling/krobeling.png"},
	{1022, 22, "pets_22", 50000, "file://{images}/econ/courier/baby_rosh/babyroshan_ti96.png"},
	{1023, 23, "pets_23", 30000, "file://{images}/econ/courier/baby_rosh/babyroshan_winter18.png"},
	{1024, 24, "pets_24", 50000, "file://{images}/econ/courier/baby_rosh/babyroshan5.png"},
	{1025, 25, "pets_25", 30000, "file://{images}/econ/courier/baby_rosh/babyroshan_elemental2.png"},
	{1026, 26, "pets_26", 30000, "file://{images}/econ/courier/baby_rosh/babyroshan_elemental1.png"},
	{1027, 27, "pets_27", 10000, "file://{images}/econ/courier/doom_demihero_courier/doom_demihero_courier.png"},
	{1028, 28, "pets_28", 1000000, "file://{images}/econ/courier/baby_rosh/babyroshan2.png"},
	{1029, 29, "pets_29", 50000, "file://{images}/econ/courier/baby_rosh/babyroshan_ti10.png"},
	{1030, 30, "pets_30", 20000, "file://{images}/econ/items/courier/courier_ti10/courier_ti10_lvl1/courier_ti10_lvl1_style3.png"},
	{1031, 31, "pets_31", 20000, "file://{images}/econ/items/courier/courier_ti10/courier_ti10_lvl1/courier_ti10_lvl1_style1.png"},
	{1032, 32, "pets_32", 20000, "file://{images}/econ/items/courier/courier_ti10/courier_ti10_lvl1/courier_ti10_lvl1_style2.png"},
	{1033, 33, "pets_33", 20000, "file://{images}/econ/items/courier/courier_ti10/courier_ti10_lvl1/courier_ti10_lvl1_style4.png"},
	{1034, 34, "pets_34", 20000, "file://{images}/econ/items/courier/courier_ti10/courier_ti10_lvl1/courier_ti10_lvl1_style5.png"},
	{1035, 35, "pets_35", 25000, "file://{images}/econ/items/courier/courier_ti10/courier_ti10_lvl1/courier_ti10_lvl1_style6.png"},
	{1036, 36, "pets_36", 6000, "file://{images}/econ/courier/huntling/huntling.png"},
	{1037, 37, "pets_37", 2500, "file://{images}/econ/items/courier/hamster_courier/hamster_courier.png"},
	{1038, 38, "pets_38", 6000, "file://{images}/econ/courier/seekling/seekling.png"},
	{1039, 39, "pets_39", 10000, "file://{images}/econ/courier/venoling/venoling2.png"},
	{1040, 40, "pets_40", 10000, "file://{images}/econ/items/courier/faceless_rex/faceless_rex.png"},
	{1041, 41, "pets_41", 6000, "file://{images}/econ/items/courier/courier_mvp_redkita/courier_mvp_redkita.png"},
	{1042, 42, "pets_42", 6000, "file://{images}/econ/items/courier/bearzky/bearzky.png"},
	{1043, 43, "pets_43", 10000, "file://{images}/econ/items/courier/coco_the_courageous/coco_the_courageous.png"},
	{1044, 44, "pets_44", 1000, "file://{images}/econ/items/courier/tinkbot/tinkbot.png"},
	{1045, 45, "pets_45", 2500, "file://{images}/econ/courier/navi_courier/navi_courier.png"},
	{1046, 46, "pets_46", 2500, "file://{images}/econ/courier/frog/frog.png"},
	{1047, 47, "pets_47", 6000, "file://{images}/econ/items/courier/waldi_the_faithful/waldi_the_faithful.png"},
	{1048, 48, "pets_48", 10000, "file://{images}/econ/courier/baby_winter_wyvern/baby_winter_wyvern.png"},
	{1049, 49, "pets_49", 15000, "file://{images}/custom_game/shop/pet_amaterasu.png"},
	{1050, 50, "pets_50", 10000, "file://{images}/econ/courier/octopus/octopus.png"},
	{1051, 51, "pets_51", 15000, "file://{images}/custom_game/shop/Lefty_Oct.png"},
	{1052, 52, "pets_52", 15000, "file://{images}/custom_game/shop/Lefty_Ultimate.png"},
	{1053, 53, "pets_53", 15000, "file://{images}/custom_game/shop/Lefty_Refresher.png"},
	{1054, 54, "pets_54", 15000, "file://{images}/custom_game/shop/Lefty_Linken.png"},
	--{1055, 55, "pets_55", 25000, "file://{images}/custom_game/shop/Lefty_Aegis.png"},
	{1056, 56, "pets_56", 2500, "file://{images}/econ/items/courier/kanyu_shark/kanyu_shark.png"},

	




	
}

CustomNetTables:SetTableValue("shop_items", "pets", pets_item_list)

CustomNetTables:SetTableValue("shop_items", "votes_cost", 
	{
		cost = 100,
		hero_stat = 1,
	}
)

--     , , ,   
_G.PETS_DATA_LIST = 
{
	[1] = 
	{
		model = "models/courier/minipudge/minipudge.vmdl",
		particle = "particles/econ/courier/courier_minipudge/courier_minipudge_lvl2_ambient.vpcf",
		style = nil,
		scale = 0,
	},
	[2] = 
	{
		model = "models/courier/donkey_trio/mesh/donkey_trio.vmdl",
		particle = nil,
		style = nil,
		scale = 0,
	},
	[3] = 
	{
		model = "models/items/courier/duskie/duskie.vmdl",
		particle = nil,
		style = nil,
		scale = 0,
	},
	[4] = 
	{
		model = "models/items/courier/snaggletooth_red_panda/snaggletooth_red_panda.vmdl",
		particle = nil,
		style = nil,
		scale = 0,
	},
	[5] = 
	{
		model = "models/items/courier/beaverknight_s2/beaverknight_s2.vmdl",
		particle = nil,
		style = nil,
		scale = 30,
	},
	[6] = 
	{
		model = "models/items/courier/shagbark/shagbark.vmdl",
		particle = nil,
		style = nil,
		scale = 0,
	},
	[7] = 
	{
		model = "models/courier/baby_rosh/babyroshan.vmdl",
		particle = nil,
		style = nil,
		scale = 0,
	},
	[8] = 
	{
		model = "models/items/courier/mighty_chicken/mighty_chicken.vmdl",
		particle = nil,
		style = nil,
		scale = 0,
	},
	[9] = 
	{
		model = "models/props_gameplay/donkey.vmdl",
		particle = nil,
		style = nil,
		scale = 0,
	},
	[10] = 
	{
		model = "models/items/courier/wabbit_the_mighty_courier_of_heroes/wabbit_the_mighty_courier_of_heroes.vmdl",
		particle = nil,
		style = nil,
		scale = 0,
	},

	[11] = 
	{
		model = "models/items/courier/shibe_dog_cat/shibe_dog_cat.vmdl",
		particle = "particles/econ/courier/courier_shibe/courier_shibe_ambient.vpcf",
		style = nil,
		scale = 0,
	},

	[12] = 
	{
		model = "models/items/courier/butch_pudge_dog/butch_pudge_dog.vmdl",
		particle = "particles/econ/courier/courier_butch/courier_butch_ambient.vpcf",
		style = nil,
		scale = 0,
	},
	[13] = 
	{
		model = "models/props_gameplay/donkey.vmdl",
		particle = nil,
		style = "1",
		scale = 0,
	},
	[14] = 
	{
		model = "models/items/courier/captain_bamboo/captain_bamboo.vmdl",
		particle = nil,
		style = nil,
		scale = 0,
	},
	[15] = 
	{
		model = "models/items/courier/el_gato_beyond_the_summit/el_gato_beyond_the_summit.vmdl",
		particle = nil,
		style = nil,
		scale = 0,
	},
	[16] = 
	{
		model = "models/items/courier/itsy/itsy.vmdl",
		particle = nil,
		style = nil,
		scale = 0,
	},

	[17] = 
	{
		model = "models/heroes/crystal_maiden_persona/crystal_maiden_persona_temp.vmdl",
		particle = nil,
		style = nil,
		scale = 10,
	},
	[18] = 
	{
		model = "models/pets/icewrack_wolf_alt/icewrack_wolf_alt.vmdl",
		particle = nil,
		style = nil,
		scale = 15,
	},
	[19] = 
	{
		model = "models/pets/armadillo/armadillo.vmdl",
		particle = nil,
		style = nil,
		scale = 0,
	},
	[20] = 
	{
		model = "models/props_gameplay/donkey_dire.vmdl",
		particle = nil,
		style = nil,
		scale = 0,
	},

	[21] = 
	{
		model = "models/items/courier/krobeling/krobeling_flying.vmdl",
		particle = "particles/econ/courier/courier_krobeling/courier_krobeling_ambient_hair.vpcf",
		style = nil,
		scale = 20,
	},

	[22] = 
	{
		model = "models/courier/baby_rosh/babyroshan_ti9.vmdl",
		particle = "particles/econ/courier/courier_babyroshan_ti9/courier_babyroshan_ti9_ambient.vpcf",
		style = nil,
		scale = 0,
	},

	[23] = 
	{
		model = "models/courier/baby_rosh/babyroshan_winter18.vmdl",
		particle = "particles/econ/courier/courier_babyroshan_winter18/courier_babyroshan_winter18_ambient.vpcf",
		style = nil,
		scale = 0,
	},

	[24] = 
	{
		model = "models/courier/baby_rosh/babyroshan.vmdl",
		particle = "particles/econ/courier/courier_roshan_ti8/courier_roshan_ti8.vpcf",
		style = "5",
		scale = 0,
	},

	[25] = 
	{
		model = "models/courier/baby_rosh/babyroshan_elemental.vmdl",
		particle = "particles/econ/courier/courier_roshan_frost/courier_roshan_frost_ambient.vpcf",
		style = "2",
		scale = 0,
	},

	[26] = 
	{
		model = "models/courier/baby_rosh/babyroshan_elemental.vmdl",
		particle = "particles/econ/courier/courier_roshan_lava/courier_roshan_lava.vpcf",
		style = "1",
		scale = 0,
	},

	[27] = 
	{
		model = "models/courier/doom_demihero_courier/doom_demihero_courier.vmdl",
		particle = "particles/econ/courier/courier_doomling/courier_doomling_ambient.vpcf",
		style = nil,
		scale = 25,
	},

	[28] = 
	{
		model = "models/courier/baby_rosh/babyroshan.vmdl",
		particle = "particles/econ/courier/courier_platinum_roshan/platinum_roshan_ambient.vpcf",
		style = "2",
		scale = 0,
	},
	[29] = 
	{
		model = "models/courier/baby_rosh/babyroshan_ti10_dire.vmdl",
		particle = "particles/econ/courier/courier_babyroshan_ti10/courier_babyroshan_ti10_dire_ambient.vpcf",
		style = nil,
		scale = 0,
	},
	[30] = 
	{
		model = "models/items/courier/courier_ti10_radiant/courier_ti10_radiant_lvl4/courier_ti10_radiant_lvl4.vmdl",
		particle = "particles/econ/courier/courier_ti10/courier_ti10_lvl4_ambient.vpcf",
		style = nil,
		scale = 0,
	},
	[31] = 
	{
		model = "models/items/courier/courier_ti10_radiant/courier_ti10_radiant_lvl2/courier_ti10_radiant_lvl2.vmdl",
		particle = "particles/econ/courier/courier_ti10/courier_ti10_lvl2_ambient.vpcf",
		style = nil,
		scale = 0,
	},
	[32] = 
	{
		model = "models/items/courier/courier_ti10_radiant/courier_ti10_radiant_lvl3/courier_ti10_radiant_lvl3.vmdl",
		particle = "particles/econ/courier/courier_ti10/courier_ti10_lvl3_ambient.vpcf",
		style = nil,
		scale = 0,
	},
	[33] = 
	{
		model = "models/items/courier/courier_ti10_radiant/courier_ti10_radiant_lvl5/courier_ti10_radiant_lvl5.vmdl",
		particle = "particles/econ/courier/courier_ti10/courier_ti10_lvl5_ambient.vpcf",
		style = nil,
		scale = 0,
	},
	[34] = 
	{
		model = "models/items/courier/courier_ti10_radiant/courier_ti10_radiant_lvl6/courier_ti10_radiant_lvl6.vmdl",
		particle = "particles/econ/courier/courier_ti10/courier_ti10_lvl6_ambient.vpcf",
		style = nil,
		scale = 0,
	},
	[35] = 
	{
		model = "models/items/courier/courier_ti10_radiant/courier_ti10_radiant_lvl7/courier_ti10_radiant_lvl7.vmdl",
		particle = "particles/econ/courier/courier_ti10/courier_ti10_lvl7_ambient.vpcf",
		style = nil,
		scale = 0,
	},
	[36] = 
	{
		model = "models/courier/huntling/huntling.vmdl",
		particle = nil,
		style = nil,
		scale = 0,
	},
	[37] = 
	{
		model = "models/items/courier/hamster_courier/hamster_courier_lv1.vmdl",
		particle = nil,
		style = nil,
		scale = 0,
	},
	[38] = 
	{
		model = "models/courier/seekling/seekling.vmdl",
		particle = nil,
		style = nil,
		scale = 0,
	},
	[39] = 
	{
		model = "models/courier/venoling/venoling.vmdl",
		particle = "particles/econ/courier/courier_venoling/courier_venoling_ambient.vpcf",
		style = nil,
		scale = 0,
	},
	[40] = 
	{
		model = "models/items/courier/faceless_rex/faceless_rex.vmdl",
		particle = nil,
		style = nil,
		scale = 0,
	},
	[41] = 
	{
		model = "models/items/courier/courier_mvp_redkita/courier_mvp_redkita.vmdl",
		particle = nil,
		style = nil,
		scale = 0,
	},
	[42] = 
	{
		model = "models/items/courier/bearzky/bearzky.vmdl",
		particle = nil,
		style = nil,
		scale = 0,
	},
	[43] = 
	{
		model = "models/items/courier/coco_the_courageous/coco_the_courageous.vmdl",
		particle = nil,
		style = nil,
		scale = 0,
	},
	[44] = 
	{
		model = "models/items/courier/tinkbot/tinkbot.vmdl",
		particle = nil,
		style = nil,
		scale = 0,
	},
	[45] = 
	{
		model = "models/courier/navi_courier/navi_courier.vmdl",
		particle = nil,
		style = nil,
		scale = 0,
	},
	[46] = 
	{
		model = "models/courier/frog/frog.vmdl",
		particle = nil,
		style = nil,
		scale = 0,
	},
	[47] = 
	{
		model = "models/items/courier/waldi_the_faithful/waldi_the_faithful.vmdl",
		particle = nil,
		style = nil,
		scale = 0,
	},
	[48] = 
	{
		model = "models/courier/baby_winter_wyvern/baby_winter_wyvern.vmdl",
		particle = "particles/econ/courier/courier_wyvern_hatchling/courier_wyvern_hatchling_ice.vpcf",
		style = nil,
		scale = 0,
	},
	[49] = 
	{
		model = "models/items/courier/amaterasu/amaterasu.vmdl",
		particle = "particles/econ/courier/courier_amaterasu/courier_amaterasu_ambient.vpcf",
		style = nil,
		scale = 0,
	},
	[50] = 
	{
		model = "models/courier/octopus/octopus.vmdl",
		particle = "particles/econ/courier/courier_oculopus/courier_oculopus_ambient.vpcf",
		style = nil,
		scale = 0,
	},
	[51] = 
	{
		model = "models/items/courier/hand_courier/hand_courier_radiant_lv6.vmdl",
		particle = "particles/econ/courier/hand_courier/hand_courier_dire_lv6/hand_courier_dire_lv6_ambient.vpcf",
		style = nil,
		scale = 0,
	},
	[52] = 
	{
		model = "models/items/courier/hand_courier/hand_courier_radiant_lv3.vmdl",
		particle = "particles/econ/courier/hand_courier/hand_courier_dire_lv3/hand_courier_dire_lv3_ambient.vpcf",
		style = nil,
		scale = 0,
	},
	[53] = 
	{
		model = "models/items/courier/hand_courier/hand_courier_radiant_lv5.vmdl",
		particle = "particles/econ/courier/hand_courier/hand_courier_dire_lv5/hand_courier_dire_lv5_ambient.vpcf",
		style = nil,
		scale = 0,
	},
	[54] = 
	{
		model = "models/items/courier/hand_courier/hand_courier_radiant_lv4.vmdl",
		particle = "particles/econ/courier/hand_courier/hand_courier_dire_lv4/hand_courier_dire_lv4_ambient.vpcf",
		style = nil,
		scale = 0,
	},

	[55] = 
	{
		model = "models/items/courier/hand_courier/hand_courier_radiant_lv7.vmdl",
		particle = "particles/econ/courier/hand_courier/hand_courier_dire_lv7/hand_courier_dire_lv7_ambient.vpcf",
		style = nil,
		scale = 0,
	},

	[56] = 
	{
		model = "models/items/courier/kanyu_shark/kanyu_shark.vmdl",
		particle = nil,
		style = nil,
		scale = 0,
	},

	
}






LinkLuaModifier( "modifier_donate_pet", "modifiers/modifier_donate_pet", LUA_MODIFIER_MOTION_NONE )



function shop:AddCourierParticle(particle, pet)

pet.particle = ParticleManager:CreateParticle(particle, PATTACH_ABSORIGIN_FOLLOW, pet)	


if particle == "particles/econ/courier/courier_doomling/courier_doomling_ambient.vpcf" then 
	ParticleManager:SetParticleControlEnt(pet.particle, 0, pet, PATTACH_POINT_FOLLOW, "attach_weapon", pet:GetAbsOrigin(), true)
end

if particle == "particles/econ/courier/courier_faceless_rex/cour_rex_flying.vpcf" then 
	ParticleManager:SetParticleControlEnt(pet.particle, 0, pet, PATTACH_POINT_FOLLOW, "attach_hitloc", pet:GetAbsOrigin(), true)

end

end


function shop:ChangePetPremium(data)
	if data.PlayerID == nil then return end
	local id = data.PlayerID
	local pet_id = tonumber(data.pet_id)				
	local player =	PlayerResource:GetPlayer(id)

	local player_table = CustomNetTables:GetTableValue('sub_data', tostring(id))
	if player_table then
		player_table.pet_id = pet_id
		CustomNetTables:SetTableValue('sub_data', tostring(id), player_table)
	end

	if not PETS_DATA_LIST[pet_id] and pet_id ~= 0 then 
		return
	end

	if player then
		local hero = player:GetAssignedHero()
		if hero:GetUnitName() ~= "npc_dota_hero_wisp" then
			if player.pet and player.pet ~= nil and data.delete_pet == 0 then
				player.pet:SetModel(PETS_DATA_LIST[pet_id].model)
				player.pet:SetOriginalModel(PETS_DATA_LIST[pet_id].model)

				player.pet:AddNewModifier( hero, nil, "modifier_donate_pet", {scale = PETS_DATA_LIST[pet_id].scale } )

				if player.pet.particle then
					ParticleManager:DestroyParticle(player.pet.particle, true)
					player.pet.particle = nil
				end

				if PETS_DATA_LIST[pet_id].particle ~= nil then
					shop:AddCourierParticle(PETS_DATA_LIST[pet_id].particle, player.pet)
				end		

				if PETS_DATA_LIST[pet_id].style ~= nil then
					player.pet:SetMaterialGroup(PETS_DATA_LIST[pet_id].style)
				else
					player.pet:SetMaterialGroup("default")
				end	
			elseif player.pet and player.pet ~= nil and data.delete_pet == 1 then
				UTIL_Remove(player.pet)
				player.pet = nil
			else
				player.pet = CreateUnitByName("npc_dota_donate_pet", hero:GetAbsOrigin() + RandomVector(RandomFloat(0,100)), true, hero, nil, hero:GetTeamNumber())
				player.pet:SetOwner(hero)
				player.pet:AddNewModifier( hero, nil, "modifier_donate_pet", {scale = PETS_DATA_LIST[pet_id].scale } )
				player.pet:AddNewModifier( hero, nil, "modifier_pet", {} )
				player.pet:SetModel(PETS_DATA_LIST[pet_id].model)
				player.pet:SetOriginalModel(PETS_DATA_LIST[pet_id].model)

				if PETS_DATA_LIST[pet_id].particle ~= nil then
					shop:AddCourierParticle(PETS_DATA_LIST[pet_id].particle, player.pet)
				end

				if PETS_DATA_LIST[pet_id].style ~= nil then
					player.pet:SetMaterialGroup(PETS_DATA_LIST[pet_id].style)
				else
					player.pet:SetMaterialGroup("default")
				end
			end
		end
	end
end

--            .     
function shop:AddPetFromStart(id)
	local pet_id = nil
	local player =	PlayerResource:GetPlayer(id)

	local player_table = CustomNetTables:GetTableValue('sub_data', tostring(id))
	if player_table and player_table.pet_id then
		pet_id = player_table.pet_id
	end

	if player then
		local hero = player:GetAssignedHero()
		if hero:GetUnitName() ~= "npc_dota_hero_wisp" and pet_id ~= 0 and pet_id ~= nil and pet_id ~= "0" then
			player.pet = CreateUnitByName("npc_dota_donate_pet", hero:GetAbsOrigin() + RandomVector(RandomFloat(0,100)), true, hero, nil, hero:GetTeamNumber())
			player.pet:SetOwner(hero)
			player.pet:AddNewModifier( hero, nil, "modifier_donate_pet", {scale = PETS_DATA_LIST[pet_id].scale} )
			player.pet:AddNewModifier( hero, nil, "modifier_pet", {} )
			player.pet:SetModel(PETS_DATA_LIST[pet_id].model)
			player.pet:SetOriginalModel(PETS_DATA_LIST[pet_id].model)

			if PETS_DATA_LIST[pet_id].particle ~= nil then
				shop:AddCourierParticle(PETS_DATA_LIST[pet_id].particle, player.pet)
			end

			if PETS_DATA_LIST[pet_id].style ~= nil then
				player.pet:SetMaterialGroup(PETS_DATA_LIST[pet_id].style)
			else
				player.pet:SetMaterialGroup("default")
			end
		end
	end
end



function shop:heroes_vote_change(kv)
local player =	PlayerResource:GetPlayer(kv.PlayerID)

if not player then return end
if not kv.count then return end
if not kv.name then return end

local heroes_vote = CustomNetTables:GetTableValue("sub_data", "heroes_vote")

for i = 1,3 do 
	if (heroes_vote.vote_table[tostring(i)]) then 
		if heroes_vote.vote_table[tostring(i)]['1'] == kv.name then 
			heroes_vote.vote_table[tostring(i)]['2'] = heroes_vote.vote_table[tostring(i)]['2'] + kv.count
			heroes_vote.vote_table[tostring(i)]['3'] = heroes_vote.vote_table[tostring(i)]['3'] + kv.count
		end
	end
end


CustomNetTables:SetTableValue("sub_data", "heroes_vote", heroes_vote)



local sub_data = CustomNetTables:GetTableValue('sub_data', tostring(kv.PlayerID))

if not sub_data then return end 

local count = sub_data.votes_count

sub_data.votes_count = math.max(0, sub_data.votes_count - kv.count)

HTTP.Vote( kv.PlayerID, kv.name, kv.count )

CustomNetTables:SetTableValue('sub_data', tostring(kv.PlayerID), sub_data)
end



function shop:heroes_vote_free(kv)
	local player =	PlayerResource:GetPlayer(kv.PlayerID)
	
	if not player then return end
	
	local sub_data = CustomNetTables:GetTableValue('sub_data', tostring(kv.PlayerID))
	
	sub_data.votes_count = sub_data.votes_count + 1
	sub_data.free_vote_cd = shop_free_vote_cd

	HTTP.BonusVotes( kv.PlayerID, 1, sub_data.free_vote_cd * 1000 )

	
	CustomNetTables:SetTableValue('sub_data', tostring(kv.PlayerID), sub_data)
end




function shop:get_bonus_shards(kv)
	local player =	PlayerResource:GetPlayer(kv.PlayerID)
	
	if not player then return end
	
	local sub_data = CustomNetTables:GetTableValue('sub_data', tostring(kv.PlayerID))
	
	
	if sub_data.bonus_shards_cd > 0 then
		return
	end
	
	local count = RandomInt(shop_daily_shards_min, shop_daily_shards_max)
	local limit = 0
	
	local change = count
	
	if sub_data.subscribed == 0 then 
	
		if sub_points_max - sub_data.points <= count then
			limit = 1
		end 
	
		change = math.min(math.max(sub_points_max - sub_data.points, 0), count)
	
		sub_data.points = sub_data.points + change
	else 
		sub_data.points = sub_data.points + count
	end

	sub_data.bonus_shards_cd = shop_daily_shards_cd

	HTTP.BonusShards( kv.PlayerID, math.abs( change ), sub_data.bonus_shards_cd * 1000 )

	CustomNetTables:SetTableValue('sub_data', tostring(kv.PlayerID), sub_data)


	CustomGameEventManager:Send_ServerToPlayer(PlayerResource:GetPlayer(kv.PlayerID), 'give_bonus_shards', {count = count, limit = limit} ) 
end


function shop:browser_subscribe(kv)
if not IsServer() then return end
local player =	PlayerResource:GetPlayer(kv.PlayerID)

if not player then return end

HTTP.Login(kv.PlayerID, kv.item_name) 

end


function shop:ChangeShowTier(kv)
if not IsServer() then return end
local player =	PlayerResource:GetPlayer(kv.PlayerID)
if not player then return end

local sub_data = CustomNetTables:GetTableValue('sub_data', tostring(kv.PlayerID))

if not sub_data then return end

local hide_tier = sub_data.hide_tier

if hide_tier == 1 then 
	hide_tier = 0
else 
	hide_tier = 1
end

sub_data.hide_tier = hide_tier


CustomNetTables:SetTableValue('sub_data', tostring(kv.PlayerID), sub_data)

CustomGameEventManager:Send_ServerToPlayer(PlayerResource:GetPlayer(kv.PlayerID), 'change_show_level_lua', {}) 
end



function shop:SelectQuest(kv)
if not IsServer() then return end
local player =	PlayerResource:GetPlayer(kv.PlayerID)
if not player then return end

local sub_data = CustomNetTables:GetTableValue('sub_data', tostring(kv.PlayerID))

if not sub_data or sub_data.subscribed == 0 then return end

if SelectedQuests[kv.PlayerID] ~= nil then return end

SelectedQuests[kv.PlayerID] = kv.name


end










shop.cooldown_item_set = 1

shop.items_data = {}
shop.items_data_slots = {}

shop.items_data["npc_dota_hero_juggernaut"] = require("donate_items/npc_dota_hero_juggernaut")
shop.items_data["npc_dota_hero_phantom_assassin"] = require("donate_items/npc_dota_hero_phantom_assassin")
shop.items_data["npc_dota_hero_huskar"] = require("donate_items/npc_dota_hero_huskar")
shop.items_data["npc_dota_hero_razor"] = require("donate_items/npc_dota_hero_razor")
shop.items_data["npc_dota_hero_nevermore"] = require("donate_items/npc_dota_hero_nevermore")
shop.items_data["npc_dota_hero_legion_commander"] = require("donate_items/npc_dota_hero_legion_commander")

shop.items_data_slots["npc_dota_hero_phantom_assassin"] = require("donate_items/npc_dota_hero_phantom_assassin_slots")
shop.items_data_slots["npc_dota_hero_juggernaut"] = require("donate_items/npc_dota_hero_juggernaut_slots")
shop.items_data_slots["npc_dota_hero_huskar"] = require("donate_items/npc_dota_hero_huskar_slots")
shop.items_data_slots["npc_dota_hero_razor"] = require("donate_items/npc_dota_hero_razor_slots")
shop.items_data_slots["npc_dota_hero_nevermore"] = require("donate_items/npc_dota_hero_nevermore_slots")
shop.items_data_slots["npc_dota_hero_legion_commander"] = require("donate_items/npc_dota_hero_legion_commander_slots")


shop.items_data["npc_dota_hero_skeleton_king"] = require("donate_items/npc_dota_hero_skeleton_king")
shop.items_data_slots["npc_dota_hero_skeleton_king"] = require("donate_items/npc_dota_hero_skeleton_king_slots")
shop.items_data["npc_dota_hero_queenofpain"] = require("donate_items/npc_dota_hero_queenofpain")
shop.items_data_slots["npc_dota_hero_queenofpain"] = require("donate_items/npc_dota_hero_queenofpain_slots")
shop.items_data["npc_dota_hero_monkey_king"] = require("donate_items/npc_dota_hero_monkey_king")
shop.items_data_slots["npc_dota_hero_monkey_king"] = require("donate_items/npc_dota_hero_monkey_king_slots")


---     (   )
function shop:AddedDonateItemToHero(hero_name, PlayerID, item_id, skip_add)
	local player = PlayerResource:GetPlayer(PlayerID)
    if player == nil then return end
    local player_table = CustomNetTables:GetTableValue('sub_data', tostring(PlayerID))
    if player_table == nil then return end
    local hero = player:GetAssignedHero()
    if hero == nil then return end
    local original_item_information = shop.items_data[hero_name][item_id]
    if original_item_information == nil then return end
    local item_slot_type = original_item_information["SlotType"]
    
    if skip_add == nil then
        -- 
        if hero.cooldown_items_donate ~= nil and hero.cooldown_items_donate[item_slot_type] ~= nil and hero.cooldown_items_donate[item_slot_type] > 0 then
            local cooldown = hero.cooldown_items_donate[item_slot_type]
            CustomGameEventManager:Send_ServerToPlayer(player, "panorama_cooldown_error", {message="#dota_item_change_error", time=cooldown})
            EmitSoundOnClient("General.Cancel", player)
            return
        end
        shop:ItemCooldown(hero, PlayerID, item_slot_type)
        -----------------------------------------------------------
    end

    if hero.items_slots_type and hero.items_slots_type[item_slot_type] ~= nil then
        local old_id = hero.items_slots_type[item_slot_type]
        shop:RemoveDonateItemToHero(hero_name, PlayerID, old_id, true)
    end

    player_table = CustomNetTables:GetTableValue('sub_data', tostring(PlayerID))

    if skip_add == nil then
        --    
        local player_items_table = {}
        for k, v in pairs(player_table.player_items_onequip[tostring(hero_name)]) do
            table.insert(player_items_table, v)
        end
        table.insert(player_items_table, item_id)
        player_table.player_items_onequip[tostring(hero_name)] = player_items_table
        -------------------------------------------------------------------------------
    end

    --    ==     
    if hero_name == hero:GetUnitName() then
        shop:SetItemToHero(hero, PlayerID, hero:GetUnitName(), item_id)
    end

    if hero:IsRealHero() then
        if hero.original_model_donate ~= "models/heroes/phantom_assassin_persona/phantom_assassin_persona.vmdl" then
            shop:UpdatePortraitInfo(PlayerID, item_id, nil)
        end
    end

    CustomNetTables:SetTableValue('sub_data', tostring(PlayerID), player_table)
    -----------------------------------------------------------------------------------------
end

--     (   )
function shop:RemoveDonateItemToHero(hero_name, PlayerID, item_id, fast, skip_add)
    local player = PlayerResource:GetPlayer(PlayerID)
    if player == nil then return end
    local player_table = CustomNetTables:GetTableValue('sub_data', tostring(PlayerID))
    if player_table == nil then return end
    local hero = player:GetAssignedHero()
    if hero == nil then return end
    local original_item_information = shop.items_data[hero_name][item_id]
    if original_item_information == nil then return end
    local item_slot_type = original_item_information["SlotType"]

    -- 
    if fast == nil and skip_add == nil then
        if hero.cooldown_items_donate ~= nil and hero.cooldown_items_donate[item_slot_type] ~= nil and hero.cooldown_items_donate[item_slot_type] > 0 then
            local cooldown = hero.cooldown_items_donate[item_slot_type]
            CustomGameEventManager:Send_ServerToPlayer(player, "panorama_cooldown_error", {message="#dota_item_change_error", time=cooldown})
            EmitSoundOnClient("General.Cancel", player)
            return
        end
        shop:ItemCooldown(hero, PlayerID, item_slot_type)
    end
    -----------------------------------------------------------

    if item_id == 5810 then
        hero:SetMaterialGroup("default")
    end
    if item_id == 905001 then
        hero:SetMaterialGroup("default")
    end
    if item_id == 905002 then
        hero:SetMaterialGroup("default")
    end
    if item_id == 905003 then
        hero:SetMaterialGroup("default")
    end
    if item_id == 905004 then
        hero:SetMaterialGroup("default")
    end

    if skip_add == nil then
        --    
        local player_items_table = {}
        for k, v in pairs(player_table.player_items_onequip[tostring(hero_name)]) do
            table.insert(player_items_table, v)
        end
        shop.remove_item(player_items_table, item_id)     
        if hero:IsRealHero() then
            if hero.original_model_donate ~= "models/heroes/phantom_assassin_persona/phantom_assassin_persona.vmdl" then
                shop:UpdatePortraitInfo(PlayerID, item_id, true)
            end
        end
        player_table.player_items_onequip[tostring(hero_name)] = player_items_table
        -------------------------------------------------------------------------------
    end

    --    ==     
    if hero_name == hero:GetUnitName() then
        shop:RemoveItemToHero(hero, PlayerID, hero_name, item_id)
        if hero.other_model_backup_name ~= nil and hero.other_model_backup_name[item_slot_type] ~= nil then
            if fast == nil then
                shop:BackupOtherModelDota(hero, item_slot_type)
            end
        end
    end

	CustomNetTables:SetTableValue('sub_data', tostring(PlayerID), player_table)
    -----------------------------------------------------------------------------------------

    if hero and hero:GetUnitName() == "npc_dota_hero_legion_commander" then
        if hero.MaterialGroupHash and (hero.MaterialGroupHash == "628863847" or hero.MaterialGroupHash == 628863847) then
            hero:SetMaterialGroup("1")
        else
            hero:SetMaterialGroup("default")
        end
    end
end

function shop:UpdateFullParticleForPlayer(id, hero, for_this_id)
    if hero.items_data_custom == nil then return end
	if hero.particles_items_data_custom == nil then return end
	local hero_name = hero:GetUnitName()
    local player_table = CustomNetTables:GetTableValue('sub_data', tostring(id))
    if player_table == nil then return end
    local player_items_table = {}
    for k, v in pairs(player_table.player_items_onequip[tostring(hero_name)]) do
        table.insert(player_items_table, v)
    end

    if hero.other_model_backup_name ~= nil then
        for slot, name in pairs(hero.other_model_backup_name) do
            local item_model = hero.other_model_backup_name[slot]
            if item_model == "models/items/queenofpain/queenofpain_arcana/queenofpain_arcana_wings.vmdl" then
                item_model = "models/items/queenofpain/queenofpain_arcana/queenofpain_arcana_modest_wings.vmdl"
            end
            local item_info = shop:FindItemInfoOnModel(hero_name, item_model, hero.MaterialGroupHash)
            if item_info and hero.other_model_backup[slot] ~= nil then
                local hero_model = item_info["HeroModel"]
                local material_group = item_info["MaterialGroup"]
                local item_model = item_info["ItemModel"]
                local particle_items = item_info["ParticlesItems"]
                local particle_heroes = item_info["ParticlesHero"]
                local modifier_item = item_info["Modifier"]
                local item_slot_type = item_info["SlotType"]
                local body_group = item_info["BodyGroup"]
                
                if particle_items ~= nil then
                    local part_count = 1
                    for particle_id, particle_item in pairs(particle_items) do
                        Timers:CreateTimer(part_count*FrameTime(), function()
                            local particle_item_effect = ParticleManager:CreateParticleForPlayer(particle_item["ParticleName"], particle_item["DefaultPattch"], hero.other_model_backup[slot], PlayerResource:GetPlayer( for_this_id ))
                            if particle_item_effect then
                                if particle_item["ControllPoints"] ~= nil then
                                    for control_point_id, particle_data in pairs(particle_item["ControllPoints"]) do
                                        if particle_data[1] == "SetParticleControl" then
                                            if particle_data[2] == "default" then
                                                ParticleManager:SetParticleControl(particle_item_effect, control_point_id, hero:GetAbsOrigin())
                                            else
                                                ParticleManager:SetParticleControl(particle_item_effect, control_point_id, Vector(particle_data[2][1], particle_data[2][2], particle_data[2][3]))
                                            end
                                        elseif particle_data[1] == "SetParticleControlEnt" then
                                            if particle_data[4] == "hero" then
                                                ParticleManager:SetParticleControlEnt( particle_item_effect, control_point_id, hero, particle_data[2], particle_data[3], Vector(0,0,0), true )
                                            else
                                                ParticleManager:SetParticleControlEnt( particle_item_effect, control_point_id, hero.other_model_backup[slot], particle_data[2], particle_data[3], hero.other_model_backup[slot]:GetAbsOrigin(), true )
                                            end
                                        end
                                    end
                                end
                                if hero.particles_items_data_custom[item_slot_type] == nil then
                                    hero.particles_items_data_custom[item_slot_type] = {}
                                end
                                table.insert(hero.particles_items_data_custom[item_slot_type], particle_item_effect)
                            end
                        end)
                        part_count = part_count + 1
                    end
                end

                Timers:CreateTimer(0.1, function()
                    --   
                    if particle_heroes ~= nil then
                        local part_count = 1
                        for particle_id, particle_hero in pairs(particle_heroes) do
                            Timers:CreateTimer(part_count*FrameTime(), function()
                                local particle_target = hero.other_model_backup[slot]
                                if particle_hero["IsHero"] ~= nil then
                                    particle_target = hero
                                end
                                local particle_hero_effect = ParticleManager:CreateParticleForPlayer(particle_hero["ParticleName"], particle_hero["DefaultPattch"], particle_target, PlayerResource:GetPlayer( for_this_id ))
                                if particle_hero["ControllPoints"] ~= nil then
                                    for control_point_id, particle_data in pairs(particle_hero["ControllPoints"]) do
                                        if particle_data[1] == "SetParticleControl" then
                                            if particle_data[2] == "default" then
                                                ParticleManager:SetParticleControl(particle_hero_effect, control_point_id, hero:GetAbsOrigin())
                                            else
                                                ParticleManager:SetParticleControl(particle_hero_effect, control_point_id, Vector(particle_data[2][1], particle_data[2][2], particle_data[2][3]))
                                            end
                                        elseif particle_data[1] == "SetParticleControlEnt" then
                                            ParticleManager:SetParticleControlEnt( particle_hero_effect, control_point_id, hero, particle_data[2], particle_data[3], Vector(0,0,0), true )
                                        end
                                    end
                                end
                                if hero.particles_items_data_custom[item_slot_type] == nil then
                                    hero.particles_items_data_custom[item_slot_type] = {}
                                end
                                table.insert(hero.particles_items_data_custom[item_slot_type], particle_hero_effect)
                            end)
                            part_count = part_count + 1
                        end
                    end
                end)
            end
        end
    end

	if player_items_table ~= nil then
		for _, item in pairs(player_items_table) do
            local item_info = shop.items_data[hero_name][item]
            if item_info then
                local hero_model = item_info["HeroModel"]
	            local material_group = item_info["MaterialGroup"]
	            local item_model = item_info["ItemModel"]
	            local particle_items = item_info["ParticlesItems"]
	            local particle_heroes = item_info["ParticlesHero"]
                local modifier_item = item_info["Modifier"]
                local item_slot_type = item_info["SlotType"]
                local body_group = item_info["BodyGroup"]
                if hero.items_data_custom[item_slot_type] ~= nil then
                    if particle_items ~= nil then
                        local part_count = 1
                        for particle_id, particle_item in pairs(particle_items) do
                            Timers:CreateTimer(part_count*FrameTime(), function()
                                local particle_item_effect = ParticleManager:CreateParticleForPlayer(particle_item["ParticleName"], particle_item["DefaultPattch"], hero.items_data_custom[item_slot_type], PlayerResource:GetPlayer( for_this_id ))
                                if particle_item_effect then
                                    if particle_item["ControllPoints"] ~= nil then
                                        for control_point_id, particle_data in pairs(particle_item["ControllPoints"]) do
                                            if particle_data[1] == "SetParticleControl" then
                                                if particle_data[2] == "default" then
                                                    ParticleManager:SetParticleControl(particle_item_effect, control_point_id, hero:GetAbsOrigin())
                                                else
                                                    ParticleManager:SetParticleControl(particle_item_effect, control_point_id, Vector(particle_data[2][1], particle_data[2][2], particle_data[2][3]))
                                                end
                                            elseif particle_data[1] == "SetParticleControlEnt" then
                                                if particle_data[4] == "hero" then
                                                    ParticleManager:SetParticleControlEnt( particle_item_effect, control_point_id, hero, particle_data[2], particle_data[3], Vector(0,0,0), true )
                                                else
                                                    ParticleManager:SetParticleControlEnt( particle_item_effect, control_point_id, hero.items_data_custom[item_slot_type], particle_data[2], particle_data[3], hero.items_data_custom[item_slot_type]:GetAbsOrigin(), true )
                                                end
                                            end
                                        end
                                    end
                                    if hero.particles_items_data_custom[item_slot_type] == nil then
                                        hero.particles_items_data_custom[item_slot_type] = {}
                                    end
                                    table.insert(hero.particles_items_data_custom[item_slot_type], particle_item_effect)
                                end
                            end)
                            part_count = part_count + 1
                        end
                    end
                    Timers:CreateTimer(0.1, function()
                        --   
                        if particle_heroes ~= nil then
                            local part_count = 1
                            for particle_id, particle_hero in pairs(particle_heroes) do
                                Timers:CreateTimer(part_count*FrameTime(), function()
                                    local particle_target = hero.items_data_custom[item_slot_type]
                                    if particle_hero["IsHero"] ~= nil then
                                        particle_target = hero
                                    end
                                    local particle_hero_effect = ParticleManager:CreateParticleForPlayer(particle_hero["ParticleName"], particle_hero["DefaultPattch"], particle_target, PlayerResource:GetPlayer( for_this_id ))
                                    if particle_hero["ControllPoints"] ~= nil then
                                        for control_point_id, particle_data in pairs(particle_hero["ControllPoints"]) do
                                            if particle_data[1] == "SetParticleControl" then
                                                if particle_data[2] == "default" then
                                                    ParticleManager:SetParticleControl(particle_hero_effect, control_point_id, hero:GetAbsOrigin())
                                                else
                                                    ParticleManager:SetParticleControl(particle_hero_effect, control_point_id, Vector(particle_data[2][1], particle_data[2][2], particle_data[2][3]))
                                                end
                                            elseif particle_data[1] == "SetParticleControlEnt" then
                                                ParticleManager:SetParticleControlEnt( particle_hero_effect, control_point_id, hero, particle_data[2], particle_data[3], Vector(0,0,0), true )
                                            end
                                        end
                                    end
                                    if hero.particles_items_data_custom[item_slot_type] == nil then
                                        hero.particles_items_data_custom[item_slot_type] = {}
                                    end
                                    table.insert(hero.particles_items_data_custom[item_slot_type], particle_hero_effect)
                                end)
                                part_count = part_count + 1
                            end
                        end
                    end)
                end
            end
		end
	end
end

--    
function shop:SetItemToHero(hero, PlayerID, hero_name, item, starting)
	local item_info = shop.items_data[hero_name][item]
    if item_info == nil then return end

    ----------------- INFORMATION ITEM -------------------------------
	local hero_model = item_info["HeroModel"]
	local material_group = item_info["MaterialGroup"]
    local material_group_item = item_info["MaterialGroupItem"]
	local item_model = item_info["ItemModel"]
	local particle_items = item_info["ParticlesItems"]
	local particle_heroes = item_info["ParticlesHero"]
    local modifier_item = item_info["Modifier"]
    local item_slot_type = item_info["SlotType"]
    local body_group = item_info["BodyGroup"]
    local body_group_style = item_info["BodyGroupStyle"]
    local dota_items_in_hero = shop.items_data_slots[hero_name][item_slot_type]
    if starting ~= nil then
        if hero:IsRealHero() then
            shop:UpdatePortraitInfo(PlayerID, item, nil)
        end
    end
    ----------------------------------------------------------------------

    if item_slot_type == "juggernaut_ward" then
        --       
        if hero.items_slots_type == nil then
            hero.items_slots_type = {}
        end
        hero.items_slots_type[item_slot_type] = item
        --   
        if modifier_item ~= nil then
            hero:AddNewModifier(hero, nil, modifier_item, {})
        end
        return
    end
    if hero.original_model_donate == "models/heroes/phantom_assassin_persona/phantom_assassin_persona.vmdl" and item_model ~= "models/heroes/phantom_assassin_persona/phantom_assassin_persona_weapon.vmdl" then
        --       
        if hero.items_slots_type == nil then
            hero.items_slots_type = {}
        end
        hero.items_slots_type[item_slot_type] = item
        --   
        if modifier_item ~= nil then
            hero:AddNewModifier(hero, nil, "modifier_phantom_assassin_persona_custom", {})
        end
        return
    end

    ------------- INIT TABLES ---------------------------------------------
    --    
    if hero.original_model_donate == nil then
		hero.original_model_donate = hero:GetModelName()
	end

    --       
    if hero.items_slots_type == nil then
        hero.items_slots_type = {}
    end

    --      
    if hero.items_data_custom == nil then
		hero.items_data_custom = {}
	end

    --     
	if hero.particles_items_data_custom == nil then
		hero.particles_items_data_custom = {}
	end

    --     
	if hero.particles_timers_custom == nil then
		hero.particles_timers_custom = {}
	end
    ------------------------------------------------------------------------

    if hero.particles_timers_custom[item_slot_type] ~= nil then
        for _, timer_check in pairs(hero.particles_timers_custom[item_slot_type]) do
            Timers:RemoveTimer(timer_check)
        end
        hero.particles_timers_custom[item_slot_type] = {}
    end

    hero.items_slots_type[item_slot_type] = item --      

    --     ,   
    hero:RemoveModifierByName("modifier_change_item_invis")
    local invis = hero:AddNewModifier(hero, nil, "modifier_change_item_invis", {duration = FrameTime()})

    ---    ,             
    if dota_items_in_hero ~= nil then
        for _, model_name_dota in pairs(dota_items_in_hero) do
            shop:RemoveItemOtherModel(hero, model_name_dota, item, PlayerID, hero_model, item_slot_type)
        end
    end

    if hero_model ~= nil then
        shop:ChangeModelHero(hero, hero_model, starting)
    end

    if material_group ~= nil then
        hero:SetMaterialGroup(material_group)
    end

    -----------------------------------------------------------------------------------------------

    local delay_particle = 2
    if hero_model ~= nil then
        delay_particle = 2
    end

    local callback = function()
        --     !
        --  
        if item_model ~= nil then
            -- 
            local item_model_entity

            local shadow_fiend_changes =
            {
                ["models/heroes/shadow_fiend/shadow_fiend_arms.vmdl"] = "kynomi/models/sf_default_arms/shadow_fiend_arms.vmdl",
                ["models/heroes/shadow_fiend/shadow_fiend_shoulders.vmdl"] = "kynomi/models/sf_default_shoulders/shadow_fiend_shoulders.vmdl",
                ["models/items/nevermore/sf_souls_tyrant_shoulder/sf_souls_tyrant_shoulder.vmdl"] = "kynomi/models/sf_souls_tyrant_shoulder/sf_souls_tyrant_shoulder.vmdl",
                ["models/items/nevermore/sf_immortal_flame_shoulder/sf_immortal_flame_shoulder.vmdl"] = "kynomi/models/sf_immortal_flame_shoulder/sf_immortal_flame_shoulder.vmdl",
                ["models/items/nevermore/sf_immortal_flame_arms/sf_immortal_flame_arms.vmdl"] = "kynomi/models/sf_immortal_flame_arms/sf_immortal_flame_arms.vmdl",
                ["models/items/shadow_fiend/arms_deso/arms_deso.vmdl"] = "kynomi/models/sf_arms_deso/arms_deso.vmdl",
            }

            local shadow_fiend_changes_check =
            {
                ["kynomi/models/sf_default_arms/shadow_fiend_arms.vmdl"] = true,
                ["kynomi/models/sf_default_shoulders/shadow_fiend_shoulders.vmdl"] = true,
                ["kynomi/models/sf_souls_tyrant_shoulder/sf_souls_tyrant_shoulder.vmdl"] = true,
                ["kynomi/models/sf_immortal_flame_shoulder/sf_immortal_flame_shoulder.vmdl"] = true,
                ["kynomi/models/sf_immortal_flame_arms/sf_immortal_flame_arms.vmdl"] = true,
                ["kynomi/models/sf_arms_deso/arms_deso.vmdl"] = true,
            }

            local items_start_activity_idle = 
            {
                ["models/items/monkey_king/monkey_king_immortal_weapon/monkey_king_immortal_weapon.vmdl"] = true,
            }

            if shadow_fiend_changes[item_model] ~= nil then
                item_model = shadow_fiend_changes[item_model]
            end

            if hero:IsIllusion() then
                item_model_entity = CreateUnitByName("npc_dota_donate_item_illusion", Vector(0, 0, 0), false, nil, nil, hero:GetTeam())
                item_model_entity:AddNewModifier(hero, nil, "modifier_donate_hero_illusion_item", {})
                item_model_entity:SetModel( item_model )
                item_model_entity:SetOriginalModel( item_model )
                item_model_entity:AddNewModifier(item_model_entity, nil, "modifier_illusion", {})
            else
                item_model_entity = CreateUnitByName("npc_dota_donate_item_illusion", Vector(0, 0, 0), false, nil, nil, hero:GetTeam())
                item_model_entity:AddNewModifier(hero, nil, "modifier_donate_hero_illusion_item", {})
                item_model_entity:SetModel( item_model )
                item_model_entity:SetOriginalModel( item_model )
            end

            item_model_entity:SetTeam( hero:GetTeamNumber() )
            item_model_entity:SetOwner( hero )
            item_model_entity:FollowEntity(hero, true)

            if items_start_activity_idle[item_model] ~= nil then
                item_model_entity:StartGesture(ACT_DOTA_IDLE)
            end

            if body_group ~= nil then
                if body_group_style ~= nil then
                    item_model_entity:SetBodygroupByName( body_group, body_group_style )
                else
                    item_model_entity:SetBodygroupByName( body_group, 1 )
                end
            end 

            if hero_name == "npc_dota_hero_huskar" and item_slot_type == "weapon" then
                item_model_entity:SetBodygroupByName( "spear", 1 )
            end

            -- 
            if shadow_fiend_changes_check[item_model] ~= nil then
                if hero:GetModelName() == "models/heroes/shadow_fiend/shadow_fiend_arcana.vmdl" then
                    item_model_entity:SetMaterialGroup("arcana")
                else
                    item_model_entity:SetMaterialGroup("default")
                end
            else
                if material_group_item ~= nil then
                    item_model_entity:SetMaterialGroup(material_group_item)
                end
            end

            --   
            hero.items_data_custom[item_slot_type] = item_model_entity

            --  
            if particle_items ~= nil then
                local part_count = 1
                for particle_id, particle_item in pairs(particle_items) do
                    local timer = Timers:CreateTimer(part_count*FrameTime(), function()
                        local particle_item_effect = ParticleManager:CreateParticle(particle_item["ParticleName"], particle_item["DefaultPattch"], item_model_entity)
                        if particle_item_effect then
                            if particle_item["ControllPoints"] ~= nil then
                                for control_point_id, particle_data in pairs(particle_item["ControllPoints"]) do
                                    if particle_data[1] == "SetParticleControl" then
                                        if particle_data[2] == "default" then
                                            ParticleManager:SetParticleControl(particle_item_effect, control_point_id, hero:GetAbsOrigin())
                                        else
                                            ParticleManager:SetParticleControl(particle_item_effect, control_point_id, Vector(particle_data[2][1], particle_data[2][2], particle_data[2][3]))
                                        end
                                    elseif particle_data[1] == "SetParticleControlEnt" then
                                        if particle_data[4] == "hero" then
                                            ParticleManager:SetParticleControlEnt( particle_item_effect, control_point_id, hero, particle_data[2], particle_data[3], Vector(0,0,0), true )
                                        else
                                            ParticleManager:SetParticleControlEnt( particle_item_effect, control_point_id, item_model_entity, particle_data[2], particle_data[3], item_model_entity:GetAbsOrigin(), true )
                                        end
                                    end
                                end
                            end
                            if hero.particles_items_data_custom[item_slot_type] == nil then
                                hero.particles_items_data_custom[item_slot_type] = {}
                            end
                            table.insert(hero.particles_items_data_custom[item_slot_type], particle_item_effect)
                        end
                    end)
                    if timer then
                        if hero.particles_timers_custom[item_slot_type] == nil then
                            hero.particles_timers_custom[item_slot_type] = {}
                        end
                        table.insert(hero.particles_timers_custom[item_slot_type], timer)
                    end
                    part_count = part_count + 1
                end
            end
        end

        local new_timer = Timers:CreateTimer(delay_particle, function()
            --   
            if particle_heroes ~= nil then
                local part_count = 1
                for particle_id, particle_hero in pairs(particle_heroes) do
                    local timer = Timers:CreateTimer(part_count*FrameTime(), function()
                        local particle_target = item_model_entity
                        if particle_hero["IsHero"] ~= nil then
                            particle_target = hero
                        end
                        local particle_hero_effect = ParticleManager:CreateParticle(particle_hero["ParticleName"], particle_hero["DefaultPattch"], particle_target)
                        if particle_hero["ControllPoints"] ~= nil then
                            for control_point_id, particle_data in pairs(particle_hero["ControllPoints"]) do
                                if particle_data[1] == "SetParticleControl" then
                                    if particle_data[2] == "default" then
                                        ParticleManager:SetParticleControl(particle_hero_effect, control_point_id, hero:GetAbsOrigin())
                                    else
                                        ParticleManager:SetParticleControl(particle_hero_effect, control_point_id, Vector(particle_data[2][1], particle_data[2][2], particle_data[2][3]))
                                    end
                                elseif particle_data[1] == "SetParticleControlEnt" then
                                    ParticleManager:SetParticleControlEnt( particle_hero_effect, control_point_id, hero, particle_data[2], particle_data[3], Vector(0,0,0), true )
                                end
                            end
                        end
                        if hero.particles_items_data_custom[item_slot_type] == nil then
                            hero.particles_items_data_custom[item_slot_type] = {}
                        end
                        table.insert(hero.particles_items_data_custom[item_slot_type], particle_hero_effect)
                    end)
                    if timer then
                        if hero.particles_timers_custom[item_slot_type] == nil then
                            hero.particles_timers_custom[item_slot_type] = {}
                        end
                        table.insert(hero.particles_timers_custom[item_slot_type], timer)
                    end
                    part_count = part_count + 1
                end
            end
        end)

        if new_timer then
            if hero.particles_timers_custom[item_slot_type] == nil then
                hero.particles_timers_custom[item_slot_type] = {}
            end
            table.insert(hero.particles_timers_custom[item_slot_type], new_timer)
        end

        print(item, hero:HasModifier("modifier_queenofpain_arcana_custom_1"))
        if tostring(item) == "1293001" then
            if hero:HasModifier("modifier_queenofpain_arcana_custom_1") then
                hero:RemoveModifierByName("modifier_queenofpain_arcana_custom_1")
            end
        end

        --   
        if modifier_item ~= nil then
            hero:AddNewModifier(hero, nil, modifier_item, {})
        end
    end

    invis:SetEndCallback( callback )
end

--      
function shop:RemoveItemToHero(hero, PlayerID, hero_name, item_id)
    local original_item_info = shop.items_data[tostring(hero_name)][item_id]
    if original_item_info == nil then return end
    local item_slot_type = original_item_info["SlotType"]

    --    ,   
    if original_item_info["HeroModel"] ~= nil then
        shop:ChangeModelHero(hero, hero.original_model_donate)
    end

    if original_item_info["Modifier"] ~= nil then
        if hero.original_model_donate == "models/heroes/phantom_assassin_persona/phantom_assassin_persona.vmdl" then
            if original_item_info["Modifier"] == "modifier_phantom_assassin_persona_custom" then
                
            else
                hero:RemoveModifierByName(original_item_info["Modifier"])
            end
        else
            hero:RemoveModifierByName(original_item_info["Modifier"])
        end
    end

    if hero.items_data_custom[item_slot_type] ~= nil then
        hero.items_data_custom[item_slot_type]:Destroy()
        hero.items_data_custom[item_slot_type] = nil
    end

    if hero.particles_items_data_custom ~= nil and hero.particles_items_data_custom[item_slot_type] ~= nil then
        for _, particle in pairs(hero.particles_items_data_custom[item_slot_type]) do
            ParticleManager:DestroyParticle(particle, true)
            ParticleManager:ReleaseParticleIndex(particle)
        end
    end

    hero.particles_items_data_custom[item_slot_type] = nil
end

function shop:BackupOtherModelDota(hero, item_slot_type)
    if hero.other_model_backup_name ~= nil and hero.other_model_backup_name[item_slot_type] ~= nil and hero.other_model_backup[item_slot_type] == nil then
        local item_model = hero.other_model_backup_name[item_slot_type]
        if item_model == "models/items/queenofpain/queenofpain_arcana/queenofpain_arcana_wings.vmdl" then
            item_model = "models/items/queenofpain/queenofpain_arcana/queenofpain_arcana_modest_wings.vmdl"
        end

        local item_model_entity
        local item_info = shop:FindItemInfoOnModel(hero:GetUnitName(), item_model, hero.MaterialGroupHash)

        if hero:IsIllusion() then
            item_model_entity = CreateUnitByName("npc_dota_donate_item_illusion", Vector(0, 0, 0), false, nil, nil, hero:GetTeam())
            item_model_entity:AddNewModifier(hero, nil, "modifier_donate_hero_illusion_item", {})
            item_model_entity:SetModel( item_model )
            item_model_entity:SetOriginalModel( item_model )
            item_model_entity:AddNewModifier(item_model_entity, nil, "modifier_illusion", {})
        else
            item_model_entity = CreateUnitByName("npc_dota_donate_item_illusion", Vector(0, 0, 0), false, nil, nil, hero:GetTeam())
            item_model_entity:AddNewModifier(hero, nil, "modifier_donate_hero_illusion_item", {})
            item_model_entity:SetModel( item_model )
            item_model_entity:SetOriginalModel( item_model )
        end

        local shadow_fiend_changes =
        {
            ["models/heroes/shadow_fiend/shadow_fiend_arms.vmdl"] = "kynomi/models/sf_default_arms/shadow_fiend_arms.vmdl",
            ["models/heroes/shadow_fiend/shadow_fiend_shoulders.vmdl"] = "kynomi/models/sf_default_shoulders/shadow_fiend_shoulders.vmdl",
            ["models/items/nevermore/sf_souls_tyrant_shoulder/sf_souls_tyrant_shoulder.vmdl"] = "kynomi/models/sf_souls_tyrant_shoulder/sf_souls_tyrant_shoulder.vmdl",
            ["models/items/nevermore/sf_immortal_flame_shoulder/sf_immortal_flame_shoulder.vmdl"] = "kynomi/models/sf_immortal_flame_shoulder/sf_immortal_flame_shoulder.vmdl",
            ["models/items/nevermore/sf_immortal_flame_arms/sf_immortal_flame_arms.vmdl"] = "kynomi/models/sf_immortal_flame_arms/sf_immortal_flame_arms.vmdl",
            ["models/items/shadow_fiend/arms_deso/arms_deso.vmdl"] = "kynomi/models/sf_arms_deso/arms_deso.vmdl",
            ["kynomi/models/sf_default_arms/shadow_fiend_arms.vmdl"] = true,
            ["kynomi/models/sf_default_shoulders/shadow_fiend_shoulders.vmdl"] = true,
            ["kynomi/models/sf_souls_tyrant_shoulder/sf_souls_tyrant_shoulder.vmdl"] = true,
            ["kynomi/models/sf_immortal_flame_arms/sf_immortal_flame_arms.vmdl"] = true,
            ["kynomi/models/sf_arms_deso/arms_deso.vmdl"] = true,
        }

        local items_start_activity_idle = 
        {
            ["models/items/monkey_king/monkey_king_immortal_weapon/monkey_king_immortal_weapon.vmdl"] = true,
        }

        if shadow_fiend_changes[item_model] ~= nil then
            if hero:GetModelName() == "models/heroes/shadow_fiend/shadow_fiend_arcana.vmdl" then
                item_model_entity:SetMaterialGroup("arcana")
            else
                item_model_entity:SetMaterialGroup("default")
            end
        end

        item_model_entity:SetTeam( hero:GetTeamNumber() )
        item_model_entity:SetOwner( hero )
        item_model_entity:FollowEntity(hero, true)

        if items_start_activity_idle[item_model] ~= nil then
            item_model_entity:StartGesture(ACT_DOTA_IDLE)
        end

        hero.other_model_backup[item_slot_type] = item_model_entity

        if item_info ~= nil then
            local material_group = item_info["MaterialGroup"]
            local material_group_item = item_info["MaterialGroupItem"]
            local particle_items = item_info["ParticlesItems"]
            local particle_heroes = item_info["ParticlesHero"]
            local is_exclusive = item_info["is_exclusive"]
            local modifier_item = item_info["Modifier"]

            -- 
            if material_group_item ~= nil then
                item_model_entity:SetMaterialGroup(material_group_item)
            end

            if material_group ~= nil then
                hero:SetMaterialGroup(material_group)
            end

            if hero:IsRealHero() then
                shop:UpdatePortraitInfo(hero:GetPlayerOwnerID(), item_info["item_id"], nil)
            end

            if is_exclusive ~= nil and modifier_item ~= nil then
                hero:AddNewModifier(hero, nil, modifier_item, {})
            end
            
            --  
            if particle_items ~= nil then
                for particle_id, particle_item in pairs(particle_items) do
                    local particle_item_effect = ParticleManager:CreateParticle(particle_item["ParticleName"], particle_item["DefaultPattch"], item_model_entity)
                    if particle_item["ControllPoints"] ~= nil then
                        for control_point_id, particle_data in pairs(particle_item["ControllPoints"]) do
                            if particle_data[1] == "SetParticleControl" then
                                if particle_data[2] == "default" then
                                    ParticleManager:SetParticleControl(particle_item_effect, control_point_id, hero:GetAbsOrigin())
                                else
                                    ParticleManager:SetParticleControl(particle_item_effect, control_point_id, Vector(particle_data[2][1], particle_data[2][2], particle_data[2][3]))
                                end
                            elseif particle_data[1] == "SetParticleControlEnt" then
                                if particle_data[4] == "hero" then
                                    ParticleManager:SetParticleControlEnt( particle_item_effect, control_point_id, hero, particle_data[2], particle_data[3], Vector(0,0,0), true )
                                else
                                    ParticleManager:SetParticleControlEnt( particle_item_effect, control_point_id, item_model_entity, particle_data[2], particle_data[3], item_model_entity:GetAbsOrigin(), true )
                                end
                            end
                        end
                    end
                    if hero.particles_items_data_custom == nil then
                        hero.particles_items_data_custom = {}
                    end
                    if hero.particles_items_data_custom[item_slot_type] == nil then
                        hero.particles_items_data_custom[item_slot_type] = {}
                    end
                    table.insert(hero.particles_items_data_custom[item_slot_type], particle_item_effect)
                end
            end

            local timer = Timers:CreateTimer(0.2, function()
                --   
                if particle_heroes ~= nil then
                    for particle_id, particle_hero in pairs(particle_heroes) do
                        local particle_target = item_model_entity
                        if particle_hero["IsHero"] ~= nil then
                            particle_target = hero
                        end
                        local particle_hero_effect = ParticleManager:CreateParticle(particle_hero["ParticleName"], particle_hero["DefaultPattch"], particle_target)
                        if particle_hero["ControllPoints"] ~= nil then
                            for control_point_id, particle_data in pairs(particle_hero["ControllPoints"]) do
                                if particle_data[1] == "SetParticleControl" then
                                    if particle_data[2] == "default" then
                                        ParticleManager:SetParticleControl(particle_hero_effect, control_point_id, hero:GetAbsOrigin())
                                    else
                                        ParticleManager:SetParticleControl(particle_hero_effect, control_point_id, Vector(particle_data[2][1], particle_data[2][2], particle_data[2][3]))
                                    end
                                elseif particle_data[1] == "SetParticleControlEnt" then
                                    ParticleManager:SetParticleControlEnt( particle_hero_effect, control_point_id, hero, particle_data[2], particle_data[3], Vector(0,0,0), true )
                                end
                            end
                        end
                        if hero.particles_items_data_custom == nil then
                            hero.particles_items_data_custom = {}
                        end
                        if hero.particles_items_data_custom[item_slot_type] == nil then
                            hero.particles_items_data_custom[item_slot_type] = {}
                        end
                        table.insert(hero.particles_items_data_custom[item_slot_type], particle_hero_effect)
                    end
                end
            end)

            if timer then
                if hero.particles_timers_custom == nil then
                    hero.particles_timers_custom = {}
                end
                if hero.particles_timers_custom[item_slot_type] == nil then
                    hero.particles_timers_custom[item_slot_type] = {}
                end
                table.insert(hero.particles_timers_custom[item_slot_type], timer)
            end
        end
        
        if hero:GetUnitName() == "npc_dota_hero_huskar" and item_slot_type == "weapon" then
            item_model_entity:SetBodygroupByName( "spear", 1 )
        end

        if hero and hero:GetUnitName() == "npc_dota_hero_legion_commander" then
            if hero.MaterialGroupHash and (hero.MaterialGroupHash == "628863847" or hero.MaterialGroupHash == 628863847) then
                hero:SetMaterialGroup("1")
            else
                hero:SetMaterialGroup("default")
            end
        end
    end
end

------------------   -------------------------

function shop:FindItemInfoOnModel(hero_name, item_model, hash)
    local exlcusive_style =
    {
        ["npc_dota_hero_juggernaut"] =
        {
            ["models/items/juggernaut/arcana/juggernaut_arcana_mask.vmdl"] =
            {
                ["628863847"] = "1",
            },
        },
        ["npc_dota_hero_queenofpain"] =
        {
            ["models/items/queenofpain/queenofpain_arcana/queenofpain_arcana_modest_wings.vmdl"] =
            {
                ["628863847"] = "1",
            },
            ["models/items/queenofpain/queenofpain_arcana/queenofpain_arcana_head.vmdl"] =
            {
                ["628863847"] = "1",
            },
            ["models/items/queenofpain/queenofpain_arcana/queenofpain_arcana_dagger.vmdl"] =
            {
                ["628863847"] = "1",
            },
        },
        ["npc_dota_hero_skeleton_king"] =
        {
            ["models/items/wraith_king/arcana/wraith_king_arcana_head.vmdl"] =
            {
                ["628863847"] = "1",
            },
        },
    }

    if exlcusive_style[hero_name] and exlcusive_style[hero_name][item_model] then
        if exlcusive_style[hero_name][item_model][tostring(hash)] then
            for _, inf in pairs(shop.items_data[hero_name]) do
                if inf and inf["ItemModel"] == item_model and inf["MaterialGroupItem"] == exlcusive_style[hero_name][item_model][tostring(hash)] then
                    return inf
                end
            end
        else
            for _, inf in pairs(shop.items_data[hero_name]) do
                if inf and inf["ItemModel"] == item_model and (inf["MaterialGroupItem"] == "0" or inf["MaterialGroupItem"] == "default") then
                    return inf
                end
            end
        end
    end

    if hero_name == "npc_dota_hero_phantom_assassin" and item_model == "models/heroes/phantom_assassin/pa_arcana_weapons.vmdl" then
        for _, inf in pairs(shop.items_data[hero_name]) do
            if inf and inf["ItemModel"] == item_model and inf["item_id"] == 4239 then
                return inf
            end
        end
    end

    for _, inf in pairs(shop.items_data[hero_name]) do
        if inf and inf["ItemModel"] == item_model then
            return inf
        end
    end
    
    return nil
end

--       ()
function shop:AddedDonateHero(hero, PlayerID)
	if hero.items_data_custom == nil then
		hero.items_data_custom = {}
	end

	if hero.particles_items_data_custom == nil then
		hero.particles_items_data_custom = {}
	end

    shop:RemoveAllItemsOtherModel(hero)

    if hero:IsIllusion() then
	    hero:AddNewModifier(hero, nil, "modifier_hero_donate_illusion", {})
    end

    hero:AddNewModifier(hero, nil, "modifier_hero_donate_hex_checking", {})

	local hero_name = hero:GetUnitName()

    local player_table = CustomNetTables:GetTableValue('sub_data', tostring(PlayerID))
    if player_table == nil then return end
    local player_items_table = {}
    for k, v in pairs(player_table.player_items_onequip[tostring(hero_name)]) do
        table.insert(player_items_table, v)
    end

	if player_items_table ~= nil then
		for _, item in pairs(player_items_table) do
            if hero:GetModelName() ~= "models/heroes/phantom_assassin_persona/phantom_assassin_persona.vmdl" then
			    shop:SetItemToHero(hero, PlayerID, hero_name, item, true)
            end
		end
	end
end

function shop:CopyTable(orig) --  
    local orig_type = type(orig)
    local copy
    if orig_type == 'table' then
        copy = {}
        for orig_key, orig_value in next, orig, nil do
            copy[shop:CopyTable(orig_key)] = shop:CopyTable(orig_value)
        end
        setmetatable(copy, shop:CopyTable(getmetatable(orig)))
    else -- number, string, boolean, etc
        copy = orig
    end
    return copy
end

function shop.remove_item(tbl,item) --  
    local i,max=1,#tbl
    while i<=max do
        if tbl[i] == item then
            table.remove(tbl,i)
            i = i-1
            max = max-1
        end
        i= i+1
    end
    return tbl
end

function shop:dota1x6_item_change(data) --  js 
	if data.PlayerID == nil then return end
	local item_id = data.item_id
	local current_hero = data.current_hero
	local remove = data.remove
	local player_id = data.PlayerID
	if remove == 1 then
		shop:RemoveDonateItemToHero(current_hero, player_id, item_id)
	else
		shop:AddedDonateItemToHero(current_hero, player_id, item_id)
	end
end

function shop:ItemCooldown(hero, PlayerID, slot_type)
    if hero.cooldown_items_donate == nil then
        hero.cooldown_items_donate = {}
    end
    hero.cooldown_items_donate[slot_type] = shop.cooldown_item_set + ChangeItemsCooldown
    Timers:CreateTimer(0, function()
        if hero then
            hero.cooldown_items_donate[slot_type] = hero.cooldown_items_donate[slot_type] - 1
            local player = PlayerResource:GetPlayer(PlayerID)
            if player then
                CustomGameEventManager:Send_ServerToPlayer(player, "shop_dota1x6_item_cooldown", {slot_type = slot_type, time = hero.cooldown_items_donate[slot_type]})
            end
            if hero.cooldown_items_donate[slot_type] <= 0 then
                hero.cooldown_items_donate[slot_type] = nil
                return
            end
            return 1
        end
    end)
end

--   
function shop:RemoveAllItemsOtherModel(hero)
    --     ,     
    if hero.other_model_backup_name == nil then
        hero.other_model_backup_name = {}
    end
    --     ,     
    if hero.other_model_backup == nil then
        hero.other_model_backup = {}
    end

    if hero.MaterialGroupHash == nil then
        hero.MaterialGroupHash = hero:GetMaterialGroupHash()
    end

    local real_models = shop.items_data_slots[hero:GetUnitName()]
    if real_models ~= nil then
        hero.portrait_custom = true
        CustomNetTables:SetTableValue("heroes_donate_portraits", tostring(hero:GetUnitName()), {donate = 1})
        for name_slot, model_list in pairs(real_models) do
            for _, model in pairs(model_list) do
                shop:DeleteChildrenHero(hero, model, name_slot)
            end
        end
    end
end

function shop:DeleteChildrenHero(hero, model, slot_type)
    local phantom_assassin_persona_abuse = 
    {
        ['models/heroes/phantom_assassin_persona/phantom_assassin_persona_head.vmdl'] = true,
        ['models/heroes/phantom_assassin_persona/phantom_assassin_persona_armor.vmdl'] = true,
        ['models/heroes/phantom_assassin_persona/phantom_assassin_persona_legs.vmdl'] = true,
    }

    local shadow_fiend_changes =
    {
        ["models/heroes/shadow_fiend/shadow_fiend_arms.vmdl"] = "kynomi/models/sf_default_arms/shadow_fiend_arms.vmdl",
        ["models/heroes/shadow_fiend/shadow_fiend_shoulders.vmdl"] = "kynomi/models/sf_default_shoulders/shadow_fiend_shoulders.vmdl",
        ["models/items/nevermore/sf_souls_tyrant_shoulder/sf_souls_tyrant_shoulder.vmdl"] = "kynomi/models/sf_souls_tyrant_shoulder/sf_souls_tyrant_shoulder.vmdl",
        ["models/items/nevermore/sf_immortal_flame_shoulder/sf_immortal_flame_shoulder.vmdl"] = "kynomi/models/sf_immortal_flame_shoulder/sf_immortal_flame_shoulder.vmdl",
        ["models/items/nevermore/sf_immortal_flame_arms/sf_immortal_flame_arms.vmdl"] = "kynomi/models/sf_immortal_flame_arms/sf_immortal_flame_arms.vmdl",
        ["models/items/shadow_fiend/arms_deso/arms_deso.vmdl"] = "kynomi/models/sf_arms_deso/arms_deso.vmdl",
    }
    
    local deleted = false
    if hero ~= nil and hero:IsHero() then
        local children = hero:GetChildren();
        for k,child in pairs(children) do
            if child and child:GetClassname() == "dota_item_wearable" and child:GetModelName() == model then
                if phantom_assassin_persona_abuse[child:GetModelName()] == nil then
                    if shadow_fiend_changes[model] ~= nil then
                        hero.other_model_backup_name[slot_type] = shadow_fiend_changes[model]
                    else
                        hero.other_model_backup_name[slot_type] = model
                    end
                else
                    if not hero:HasModifier("modifier_phantom_assassin_persona_custom") then
                        hero:AddNewModifier(hero, nil, "modifier_phantom_assassin_persona_custom", {})
                    end
                end
                child:Destroy()
                deleted = true
            end
        end
        if deleted then
            shop:BackupOtherModelDota(hero, slot_type)
        end
    end
end

--   
function shop:RemoveItemOtherModel(hero, model, item_id, player_id, hero_model, slot_type)
    --     ,     
    if hero.other_model_backup_name == nil then
		hero.other_model_backup_name = {}
	end

    --     ,     
    if hero.other_model_backup == nil then
		hero.other_model_backup = {}
	end

    local real_hero = hero

    if real_hero == nil then return end

    local removed = false

    if hero.other_model_backup ~= nil and hero.other_model_backup[slot_type] ~= nil then
        local item_model = hero.other_model_backup[slot_type]:GetModelName()
        if item_model == "models/items/queenofpain/queenofpain_arcana/queenofpain_arcana_wings.vmdl" then
            item_model = "models/items/queenofpain/queenofpain_arcana/queenofpain_arcana_modest_wings.vmdl"
        end
        local item_info = shop:FindItemInfoOnModel(hero:GetUnitName(), item_model, hero.MaterialGroupHash)
        if item_info then
            if hero:IsRealHero() then
                if hero.original_model_donate ~= "models/heroes/phantom_assassin_persona/phantom_assassin_persona.vmdl" then
                    shop:UpdatePortraitInfo(player_id, item_info["item_id"], true)
                end
            end
        end
        hero.other_model_backup[slot_type]:AddEffects(EF_NODRAW)
        hero.other_model_backup[slot_type]:Destroy()
        hero.other_model_backup[slot_type] = nil
    end

    if hero.particles_items_data_custom ~= nil and hero.particles_items_data_custom[slot_type] ~= nil then
        for _, particle in pairs(hero.particles_items_data_custom[slot_type]) do
            ParticleManager:DestroyParticle(particle, true)
            ParticleManager:ReleaseParticleIndex(particle)
        end
    end
end
----------    CustomNetTable
for hero_name, info in pairs(shop.items_data) do
    local hero_items_table_copy = shop:CopyTable(info)
    for _, itm_info in pairs(hero_items_table_copy) do
        itm_info["RemoveDefaultItemsList"] = nil
        itm_info["Modifier"] = nil
        itm_info["ParticlesItems"] = nil
        itm_info["ParticlesHero"] = nil
        itm_info["SetItems"] = nil
        itm_info["HeroModel"] = nil
        itm_info["ArcanaAnim"] = nil
        itm_info["MaterialGroup"] = nil
    end
    CustomNetTables:SetTableValue("heroes_items_info", tostring(hero_name), hero_items_table_copy)
    for _, info_item in pairs(info) do
        if info_item["Modifier"] ~= nil then
            LinkLuaModifier(info_item["Modifier"], "modifiers/hero_items/"..info_item["Modifier"], LUA_MODIFIER_MOTION_NONE)
        end
    end
end

LinkLuaModifier("modifier_change_item_invis", "modifiers/hero_items/modifier_change_item_invis", LUA_MODIFIER_MOTION_NONE)
LinkLuaModifier("modifier_donate_hero_illusion_item", "modifiers/hero_items/modifier_hero_donate_illusion", LUA_MODIFIER_MOTION_NONE)
LinkLuaModifier("modifier_hero_donate_illusion", "modifiers/hero_items/modifier_hero_donate_illusion", LUA_MODIFIER_MOTION_NONE)
LinkLuaModifier("modifier_hero_donate_hex_checking", "modifiers/hero_items/modifier_hero_donate_hex_checking", LUA_MODIFIER_MOTION_NONE)
LinkLuaModifier("modifier_queen_of_pain_cape_custom", "modifiers/hero_items/modifier_queen_of_pain_cape_custom", LUA_MODIFIER_MOTION_NONE)

function shop:ChangeModelHero(hero, model, starting)
    if model == "models/heroes/phantom_assassin_persona/phantom_assassin_persona.vmdl" or hero.original_model_donate == "models/heroes/phantom_assassin_persona/phantom_assassin_persona.vmdl" then
        if not hero:HasModifier("modifier_phantom_assassin_persona_custom") then
            hero:AddNewModifier(hero, nil, "modifier_phantom_assassin_persona_custom", {})
        end
        hero:SetOriginalModel("models/heroes/phantom_assassin_persona/phantom_assassin_persona.vmdl")
        hero:SetModel("models/heroes/phantom_assassin_persona/phantom_assassin_persona.vmdl")
        return
    end

    if starting then 
        Timers:CreateTimer(1, function()
            hero:SetModel(model)
            hero:SetOriginalModel(model)
            hero:RemoveGesture(ACT_DOTA_SPAWN)
            if model == "models/items/razor/razor_arcana/razor_arcana.vmdl" then
                hero:AddNewModifier(hero, nil, "modifier_razor_arcana", {})
                shop:UpdateRazorParticle(hero, true)
                hero:ManageModelChanges()
                hero:AddNewModifier(hero, nil, "modifier_hexxed", {duration = FrameTime()})
            end
            if model == "models/items/wraith_king/arcana/wraith_king_arcana.vmdl" then
                shop:UpdateWraithKingAmbient(hero, true)
            end
            if model == "models/heroes/razor/razor.vmdl" then
                shop:UpdateRazorParticle(hero, false)
            end
            if model == "models/heroes/wraith_king/wraith_king.vmdl" then
                shop:UpdateWraithKingAmbient(hero, false)
            end
        end)
    else
        hero:SetModel(model)
        hero:SetOriginalModel(model)
	    hero:RemoveGesture(ACT_DOTA_SPAWN)
        if model == "models/items/razor/razor_arcana/razor_arcana.vmdl" then
            hero:AddNewModifier(hero, nil, "modifier_hexxed", {duration = FrameTime()})
        end
        Timers:CreateTimer(1, function()
            if model == "models/items/razor/razor_arcana/razor_arcana.vmdl" then
                hero:AddNewModifier(hero, nil, "modifier_razor_arcana", {})
                shop:UpdateRazorParticle(hero, true)
            end
            if model == "models/items/wraith_king/arcana/wraith_king_arcana.vmdl" then
                shop:UpdateWraithKingAmbient(hero, true)
            end
        end)
        if model == "models/heroes/razor/razor.vmdl" then
            shop:UpdateRazorParticle(hero, false)
        end
        if model == "models/heroes/wraith_king/wraith_king.vmdl" then
            shop:UpdateWraithKingAmbient(hero, false)
        end
    end
end

function shop:UpdatePortraitInfo(id, item_id, delete)
    if shop.player_items_portrait[id] == nil then
        shop.player_items_portrait[id] = {}
    end
    if delete then
        for i = #shop.player_items_portrait[id], 1, -1 do
            if shop.player_items_portrait[id][i] == item_id then
                table.remove(shop.player_items_portrait[id], i)
                break
            end
        end
    else
        table.insert(shop.player_items_portrait[id], item_id)
    end
    CustomNetTables:SetTableValue("heroes_items_info", "portrait_items_"..id, shop.player_items_portrait[id])
end

function shop:UpdateRazorParticle(hero, delete)
    if delete then
        Timers:CreateTimer(0.45, function()
            if hero.razor_ambient_default ~= nil then
                for _, ambient in pairs(hero.razor_ambient_default) do
                    if ambient then
                        ParticleManager:DestroyParticle(ambient, true)
                    end
                end
            end
        end)
        return
    end
    Timers:CreateTimer(0.25, function()
        if hero.razor_ambient_default ~= nil then
            for _, ambient in pairs(hero.razor_ambient_default) do
                if ambient then
                    ParticleManager:DestroyParticle(ambient, true)
                end
            end
        end
        if hero:GetModelName() == "models/heroes/razor/razor.vmdl" then
            hero.razor_ambient_default = {}
            local whip = ParticleManager:CreateParticle("particles/razor_custom/razor_whip.vpcf", PATTACH_ABSORIGIN_FOLLOW, hero)
            ParticleManager:SetParticleControlEnt( whip, 0, hero, PATTACH_POINT_FOLLOW, "attach_whip", hero:GetAbsOrigin(), true )
            ParticleManager:SetParticleControlEnt( whip, 1, hero, PATTACH_POINT_FOLLOW, "attach_whip1", hero:GetAbsOrigin(), true )
            ParticleManager:SetParticleControlEnt( whip, 2, hero, PATTACH_POINT_FOLLOW, "attach_whip2", hero:GetAbsOrigin(), true )
            ParticleManager:SetParticleControlEnt( whip, 3, hero, PATTACH_POINT_FOLLOW, "attach_whip3", hero:GetAbsOrigin(), true )
            ParticleManager:SetParticleControlEnt( whip, 4, hero, PATTACH_POINT_FOLLOW, "attach_whip4", hero:GetAbsOrigin(), true )
            ParticleManager:SetParticleControlEnt( whip, 5, hero, PATTACH_POINT_FOLLOW, "attach_whip5", hero:GetAbsOrigin(), true )
            table.insert(hero.razor_ambient_default, whip)
            local ambient_1 = ParticleManager:CreateParticle("particles/razor_custom/razor_ambient.vpcf", PATTACH_ABSORIGIN_FOLLOW, hero)
            ParticleManager:SetParticleControlEnt( ambient_1, 3, hero, PATTACH_POINT_FOLLOW, "energyCore", hero:GetAbsOrigin(), true )
            table.insert(hero.razor_ambient_default, ambient_1)
            local ambient_2 = ParticleManager:CreateParticle("particles/razor_custom/razor_ambient_main.vpcf", PATTACH_ABSORIGIN_FOLLOW, hero)
            ParticleManager:SetParticleControlEnt( ambient_2, 0, hero, PATTACH_POINT_FOLLOW, "energyCore", hero:GetAbsOrigin(), true )
            table.insert(hero.razor_ambient_default, ambient_2)
        end
    end)
end

function shop:UpdateWraithKingAmbient(hero, delete)
    if delete then
        Timers:CreateTimer(0.45, function()
            if hero.wk_ambient_default ~= nil then
                for _, ambient in pairs(hero.wk_ambient_default) do
                    if ambient then
                        ParticleManager:DestroyParticle(ambient, true)
                    end
                end
            end
        end)
        return
    end
    Timers:CreateTimer(0.25, function()
        if hero.wk_ambient_default ~= nil then
            for _, ambient in pairs(hero.wk_ambient_default) do
                if ambient then
                    ParticleManager:DestroyParticle(ambient, true)
                end
            end
        end
        if hero:GetModelName() == "models/heroes/wraith_king/wraith_king.vmdl" then
            hero.wk_ambient_default = {}
            local ambient = ParticleManager:CreateParticle("particles/wraith_king_custom/wraith_king_ambient_custom.vpcf", PATTACH_ABSORIGIN_FOLLOW, hero)
            table.insert(hero.wk_ambient_default, ambient)
        end
    end)
end

function shop:QueenOfPainUpdateShoulder(hero, active)
    if hero:HasModifier("modifier_queenofpain_immortal_custom") or hero:HasModifier("modifier_queenofpain_immortal_custom_v2") then
        Timers:CreateTimer(FrameTime(), function()
            local item_model_entity
            local model_name = "models/items/queenofpain/qop_2022_immortal/qop_2022_immortal.vmdl"
            local particle = "particles/econ/items/queen_of_pain/qop_2022_immortal/queen_arcana_2022_ambient.vpcf"
            local material_group = "default"

            if active then
                if hero.items_data_custom ~= nil and hero.items_data_custom["shoulder"] ~= nil then
                    hero.items_data_custom["shoulder"]:Destroy()
                    hero.items_data_custom["shoulder"] = nil
                end
                model_name = "models/items/queenofpain/qop_2022_immortal/qop_2022_immortal_arcana_refit.vmdl"
                if hero:HasModifier("modifier_queenofpain_immortal_custom") then
                    material_group = "default"
                    particle = "particles/econ/items/queen_of_pain/qop_2022_immortal/queen_arcana_2022_ambient.vpcf"
                elseif hero:HasModifier("modifier_queenofpain_immortal_custom_v2") then
                    material_group = "1"
                    particle = "particles/econ/items/queen_of_pain/qop_2022_immortal/queen_arcana_2022_ambient_blue_main.vpcf"
                end
            else
                if hero.items_data_custom ~= nil and hero.items_data_custom["shoulder"] ~= nil then
                    hero.items_data_custom["shoulder"]:Destroy()
                    hero.items_data_custom["shoulder"] = nil
                end
                if hero:HasModifier("modifier_queenofpain_immortal_custom") then
                    material_group = "default"
                    particle = "particles/econ/items/queen_of_pain/qop_2022_immortal/queen_2022_ambient.vpcf"
                elseif hero:HasModifier("modifier_queenofpain_immortal_custom_v2") then
                    material_group = "1"
                    particle = "particles/econ/items/queen_of_pain/qop_2022_immortal/queen_2022_ambient_blue.vpcf"
                end
            end

            if hero:HasModifier("modifier_queenofpain_arcana_custom_1") and hero:HasModifier("modifier_queenofpain_arcana_custom_2") and hero.items_data_custom["shoulder"] ~= nil and hero.items_data_custom["shoulder"]:GetModelName() == "models/items/queenofpain/qop_2022_immortal/qop_2022_immortal_arcana_refit.vmdl" then
                return
            end

            if hero:IsIllusion() then
                item_model_entity = CreateUnitByName("npc_dota_donate_item_illusion", Vector(0, 0, 0), false, nil, nil, hero:GetTeam())
                item_model_entity:AddNewModifier(hero, nil, "modifier_donate_hero_illusion_item", {})
                item_model_entity:SetModel( model_name )
                item_model_entity:SetOriginalModel( model_name )
                item_model_entity:AddNewModifier(item_model_entity, nil, "modifier_illusion", {})
            else
                item_model_entity = CreateUnitByName("npc_dota_donate_item_illusion", Vector(0, 0, 0), false, nil, nil, hero:GetTeam())
                item_model_entity:AddNewModifier(hero, nil, "modifier_donate_hero_illusion_item", {})
                item_model_entity:SetModel( model_name )
                item_model_entity:SetOriginalModel( model_name )
            end

            if (hero:HasModifier("modifier_queenofpain_arcana_custom_1") or hero:HasModifier("modifier_queenofpain_arcana_custom_2")) then
                item_model_entity:AddActivityModifier("qop_2022")
            end

            item_model_entity:SetTeam( hero:GetTeamNumber() )
            item_model_entity:SetOwner( hero )
            item_model_entity:FollowEntity(hero, true)
            item_model_entity:SetMaterialGroup(material_group)

            hero.items_data_custom["shoulder"] = item_model_entity

            Timers:CreateTimer(3, function()
                if hero ~= nil and hero.particles_items_data_custom ~= nil and hero.particles_items_data_custom["shoulder"] ~= nil then
                    for _, particle in pairs(hero.particles_items_data_custom["shoulder"]) do
                        ParticleManager:DestroyParticle(particle, true)
                    end
                    local new_particle = ParticleManager:CreateParticle(particle, PATTACH_ABSORIGIN_FOLLOW, item_model_entity)
                    ParticleManager:SetParticleControl(new_particle, 0, hero:GetAbsOrigin())
                    table.insert(hero.particles_items_data_custom["shoulder"], new_particle)
                end
            end)
        end)
    end
end


